(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(11),i=n.n(a),c=n(10),l=n(5),s=n(1),u=n.n(s),f=n(131),p=n(143),b=n(401),y=n(402);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,a,s=v(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={tabIndex:null,isScrollableRight:!1,isScrollableLeft:!1},t.container=Object(r.createRef)(),t.sortBy=t.sortBy.bind(w(t)),t.updateTableShadow=t.updateTableShadow.bind(w(t)),t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this.container.current,t=e.scrollWidth>e.clientWidth;this.setState({tabIndex:t?"0":null}),this.updateTableShadow(),window.addEventListener("resize",this.updateTableShadow)}},{key:"componentDidUpdate",value:function(){this.updateTableShadow()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateTableShadow)}},{key:"sortBy",value:function(e){var t=this,n=this.props,r=n.headers,o=n.query;return function(){var n=o.orderby||Object(l.get)(Object(l.find)(r,{defaultSort:!0}),"key",!1),a=o.order||Object(l.get)(Object(l.find)(r,{key:n}),"defaultOrder","desc"),i="desc";e===n&&(i="desc"===a?"asc":"desc"),t.props.onSort(e,i)}}},{key:"updateTableShadow",value:function(){var e=this.container.current,t=this.state,n=t.isScrollableRight,r=t.isScrollableLeft,o=e.scrollWidth-e.scrollLeft<=e.offsetWidth;o&&n?this.setState({isScrollableRight:!1}):o||this.state.isScrollableRight||this.setState({isScrollableRight:!0});var a=e.scrollLeft<=0;a&&r?this.setState({isScrollableLeft:!1}):a||r||this.setState({isScrollableLeft:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ariaHidden,a=t.caption,s=t.classNames,u=t.headers,f=t.instanceId,d=t.query,m=t.rowHeader,g=t.rows,v=t.rowClasses,O=this.state,w=O.isScrollableRight,j=O.isScrollableLeft,S=O.tabIndex,k=i()("bwf-table-table",s,{"is-scrollable-right":w,"is-scrollable-left":j}),P=d.orderby||Object(l.get)(Object(l.find)(u,{defaultSort:!0}),"key",!1),E=d.order||Object(l.get)(Object(l.find)(u,{key:P}),"defaultOrder","desc"),C=!!g.length;return Object(r.createElement)("div",{className:k,ref:this.container,tabIndex:S,"aria-hidden":n,"aria-labelledby":"caption-".concat(f),role:"group",onScroll:this.updateTableShadow},Object(r.createElement)("table",null,Object(r.createElement)("caption",{id:"caption-".concat(f),className:"bwf-table-caption screen-reader-text"},a,"0"===S&&Object(r.createElement)("small",null,Object(o.__)("(scroll to see more)","funnel-builder"))),Object(r.createElement)("tbody",null,Object(r.createElement)("tr",null,u.map((function(t,n){var a=t.cellClassName,s=t.isSortable,u=t.isNumeric,d=t.key,m=t.label,g=t.screenReaderLabel,v="header-".concat(f,"-").concat(n),O={className:i()("bwf-table-header",a,{"is-sortable":s,"is-sorted":P===d,"is-numeric":u})};s&&(O["aria-sort"]="none",P===d&&(O["aria-sort"]="asc"===E?"ascending":"descending"));var w=P===d&&"asc"!==E?Object(o.sprintf)(Object(o.__)("Sort by %s in ascending order","funnel-builder"),g):Object(o.sprintf)(Object(o.__)("Sort by %s in descending order","funnel-builder"),g),j=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{"aria-hidden":Boolean(g)},m),g&&Object(r.createElement)("span",{className:"screen-reader-text"},g));return Object(r.createElement)("th",h({role:"columnheader",scope:"col",key:n},O),s?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(c.Button,{"aria-describedby":v,onClick:C?e.sortBy(d):l.noop},P===d&&"asc"===E?Object(r.createElement)(p.a,{icon:b.a}):Object(r.createElement)(p.a,{icon:y.a}),j),Object(r.createElement)("span",{className:"screen-reader-text",id:v},w)):j)}))),C?g.map((function(e,t){return Object(r.createElement)("tr",{key:t,className:v[t]},e.map((function(e,t){var n=u[t],o=n.cellClassName,a=(n.isLeftAligned,n.isNumeric),c=m===t,l=c?"th":"td",s=i()("bwf-table-item",o,{"is-numeric":a,"is-sorted":P===u[t].key});return Object(r.createElement)(l,{scope:c?"row":null,key:t,className:s},function(e){return e.display||null}(e))})))})):Object(r.createElement)("tr",null,Object(r.createElement)("td",{className:"bwf-table-empty-item",colSpan:u.length},Object(o.__)("No data found","funnel-builder"))))))}}])&&m(t.prototype,n),a&&m(t,a),u}(r.Component);S.propTypes={ariaHidden:u.a.bool,caption:u.a.string.isRequired,className:u.a.string,headers:u.a.arrayOf(u.a.shape({defaultSort:u.a.bool,defaultOrder:u.a.string,isLeftAligned:u.a.bool,isNumeric:u.a.bool,isSortable:u.a.bool,key:u.a.string,label:u.a.node,required:u.a.bool,screenReaderLabel:u.a.string})),onSort:u.a.func,query:u.a.object,rows:u.a.arrayOf(u.a.arrayOf(u.a.shape({display:u.a.node,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool])}))).isRequired,rowHeader:u.a.oneOfType([u.a.number,u.a.bool]),rowClasses:u.a.arrayOf(u.a.string)},S.defaultProps={ariaHidden:!1,headers:[],onSort:l.noop,query:{},rowHeader:0,rowClasses:[]},t.a=Object(f.withInstanceId)(S)},103:function(e,t,n){"use strict";function r(e){return function(t,n,r){if(t[n])return t[n].type&&t[n].type===e?void 0:new Error("Invalid ".concat(n," passed to ").concat(r,". Must be ")+"`"+e.name+"`")}}n.d(t,"a",(function(){return r}))},104:function(e,t,n){"use strict";var r=n(0),o=n(5),a=n(1),i=n.n(a),c=n(102);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,a,i=y(l);function l(){return f(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.numberOfRows,a=u(t,["numberOfRows"]),i=Object(o.range)(n).map((function(){return e.props.headers.map((function(){return{display:Object(r.createElement)("span",{className:"is-placeholder"})}}))}));return Object(r.createElement)(c.a,s({ariaHidden:!0,classNames:"is-loading",rows:i},a))}}])&&p(t.prototype,n),a&&p(t,a),l}(r.Component);m.propTypes={query:i.a.object,caption:i.a.string.isRequired,headers:i.a.arrayOf(i.a.shape({hiddenByDefault:i.a.bool,defaultSort:i.a.bool,isSortable:i.a.bool,key:i.a.string,label:i.a.node,required:i.a.bool})),numberOfRows:i.a.number},m.defaultProps={numberOfRows:5},t.a=m},149:function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(67),i=n(1),c=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,i,c=p(l);function l(){var e;return s(this,l),(e=c.apply(this,arguments)).onClick=e.onClick.bind(y(e)),e.onFocusFormToggle=e.onFocusFormToggle.bind(y(e)),e.onKeyDown=e.onKeyDown.bind(y(e)),e.container=Object(r.createRef)(),e}return t=l,(n=[{key:"onClick",value:function(e){var t=this.props,n=t.isClickable,r=t.onInvoke;n&&(e.preventDefault(),r())}},{key:"onKeyDown",value:function(e){e.target.isSameNode(e.currentTarget)&&(e.keyCode!==a.ENTER&&e.keyCode!==a.SPACE||(e.preventDefault(),this.props.onInvoke()),e.keyCode===a.UP&&e.preventDefault(),e.keyCode===a.DOWN&&(e.preventDefault(),(e.target.nextSibling||e.target.parentNode.querySelector(".bwf-ellipsis-menu__item")).focus()))}},{key:"onFocusFormToggle",value:function(){this.container.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.checked,n=e.children;return e.isCheckbox?Object(r.createElement)("div",{"aria-checked":t,ref:this.container,role:"menuitemcheckbox",tabIndex:"0",onKeyDown:this.onKeyDown,onClick:this.onClick,className:"bwf-ellipsis-menu__item"},Object(r.createElement)(o.BaseControl,{className:"components-toggle-control"},Object(r.createElement)(o.FormToggle,{"aria-hidden":"true",checked:t,onChange:this.props.onInvoke,onFocus:this.onFocusFormToggle,onClick:function(e){return e.stopPropagation()},tabIndex:"-1"}),n)):Object(r.createElement)("div",{role:"menuitem",tabIndex:"0",onKeyDown:this.onKeyDown,onClick:this.onClick,className:"bwf-ellipsis-menu__item"},n)}}])&&u(t.prototype,n),i&&u(t,i),l}(r.Component);h.propTypes={checked:c.a.bool,children:c.a.node,isCheckbox:c.a.bool,isClickable:c.a.bool,onInvoke:c.a.func.isRequired},h.defaultProps={isClickable:!1,isCheckbox:!1},t.a=h},236:function(e,t,n){"use strict";var r=n(0),o=n(1),a=n.n(o),i=n(5),c=n(33);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,o,a=m(l);function l(){return y(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"bwfCrmLinkHandler",value:function(e,t){t.preventDefault(),!1!==(!e||e(t))&&Object(c.d)().push(t.target.closest("a").getAttribute("href"))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,o=e.type,a=f(f({},b(e,["children","href","type"])),{},{"data-link-type":o});return"bwf-crm"===o&&(a.onClick=Object(i.partial)(this.bwfCrmLinkHandler,a.onClick)),Object(r.createElement)("a",s({href:n},a),t)}}])&&d(t.prototype,n),o&&d(t,o),l}(r.Component);O.propTypes={href:a.a.string.isRequired,type:a.a.oneOf(["wp-admin","wc-admin","bwf-crm","external"]).isRequired},O.defaultProps={type:"bwf-crm"},O.contextTypes={router:a.a.object},t.a=O},237:function(e,t,n){"use strict";var r=n(0),o=n(11),a=n.n(o),i=n(1),c=n.n(i),l=n(66),s=n(26),u=n(103);n(393);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,o,i=d(c);function c(){return p(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.action,n=e.children,o=e.description,i=e.isInactive,c=e.menu,l=e.title,u=a()("bwf-card",this.props.className,{"has-menu":!!c,"has-action":!!t,"is-inactive":!!i});return Object(r.createElement)("div",{className:u},l&&Object(r.createElement)("div",{className:"bwf-card-header"},Object(r.createElement)("div",{className:"bwf-card-title-wrapper"},Object(r.createElement)(s.a,{className:"bwf-card-title bwf-card-header-item"},l),o&&Object(r.createElement)(s.a,{className:"bwf-card-description bwf-card-header-item"},o)),t&&Object(r.createElement)("div",{className:"bwf-card-action bwf-card-header-item"},t),c&&Object(r.createElement)("div",{className:"bwf-card-menu bwf-card-header-item"},c)),Object(r.createElement)(s.b,{className:"bwf-card-body"},n))}}])&&b(t.prototype,n),o&&b(t,o),c}(r.Component);g.propTypes={action:c.a.node,className:c.a.string,description:c.a.oneOfType([c.a.string,c.a.node]),isInactive:c.a.bool,menu:Object(u.a)(l.a),title:c.a.oneOfType([c.a.string,c.a.node])},t.a=g},240:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(11),i=n.n(a),c=n(5),l=n(1),s=n.n(l),u=n(237),f=n(66),p=n(149),b=function(e){var t=e.children;return Object(r.createElement)("div",{className:"bwf-ellipsis-menu__title"},t)};b.propTypes={children:s.a.node};var y=b,d=n(10),h=n(143),m=n(407),g=n(408);n(394);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=[25,50,75,100],C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,n,a,l=j(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={inputValue:t.props.page},t.previousPage=t.previousPage.bind(k(t)),t.nextPage=t.nextPage.bind(k(t)),t.onInputChange=t.onInputChange.bind(k(t)),t.onInputBlur=t.onInputBlur.bind(k(t)),t.perPageChange=t.perPageChange.bind(k(t)),t.selectInputValue=t.selectInputValue.bind(k(t)),t}return t=s,(n=[{key:"previousPage",value:function(e){e.stopPropagation();var t=this.props,n=t.page,r=t.onPageChange;n-1<1||r(n-1,"previous")}},{key:"nextPage",value:function(e){e.stopPropagation();var t=this.props,n=t.page,r=t.onPageChange;n+1>this.pageCount||r(n+1,"next")}},{key:"perPageChange",value:function(e){var t=this.props,n=t.onPerPageChange,r=t.onPageChange,o=t.total,a=t.page;n(parseInt(e,10));var i=Math.ceil(o/parseInt(e,10));a>i&&r(i)}},{key:"onInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"onInputBlur",value:function(e){var t=this.props,n=t.onPageChange,r=t.page,o=parseInt(e.target.value,10);o!==r&&Number.isFinite(o)&&o>0&&this.pageCount&&this.pageCount>=o&&n(o,"goto")}},{key:"selectInputValue",value:function(e){e.target.select()}},{key:"renderPageArrows",value:function(){var e=this.props,t=e.page,n=e.showPageArrowsLabel;if(this.pageCount<=1)return null;var a=i()("bwf-pagination-link",{"is-active":t>1}),c=i()("bwf-pagination-link",{"is-active":t<this.pageCount});return Object(r.createElement)("div",{className:"bwf-pagination-page-arrows"},n&&Object(r.createElement)("span",{className:"bwf-pagination-page-arrows-label",role:"status","aria-live":"polite"},Object(o.sprintf)(Object(o.__)("Page %d of %d","funnel-builder"),t,this.pageCount)),Object(r.createElement)("div",{className:"bwf-pagination-page-arrows-buttons"},Object(r.createElement)(d.Button,{className:a,disabled:!(t>1),onClick:this.previousPage,label:Object(o.__)("Previous Page","funnel-builder")},Object(r.createElement)(h.a,{icon:m.a})),Object(r.createElement)(d.Button,{className:c,disabled:!(t<this.pageCount),onClick:this.nextPage,label:Object(o.__)("Next Page","funnel-builder")},Object(r.createElement)(h.a,{icon:g.a}))))}},{key:"renderPagePicker",value:function(){var e=this.props.page,t=this.state.inputValue,n=e<1||e>this.pageCount,a=i()("bwf-pagination-page-picker-input",{"has-error":n}),l=Object(c.uniqueId)("bwf-pagination-page-picker-");return Object(r.createElement)("div",{className:"bwf-pagination-page-picker"},Object(r.createElement)("label",{htmlFor:l,className:"bwf-pagination-page-picker-label"},Object(o.__)("Go to page","funnel-builder"),Object(r.createElement)("input",{id:l,className:a,"aria-invalid":n,type:"number",onClick:this.selectInputValue,onChange:this.onInputChange,onBlur:this.onInputBlur,value:t,min:1,max:this.pageCount})))}},{key:"renderPerPagePicker",value:function(){var e=E.map((function(e){return{value:e,label:e}}));return Object(r.createElement)("div",{className:"bwf-pagination-per-page-picker"},Object(r.createElement)(d.SelectControl,{label:Object(o.__)("Rows per page","funnel-builder"),value:this.props.perPage,onChange:this.perPageChange,options:e}))}},{key:"render",value:function(){var e=this.props,t=e.total,n=e.perPage,o=e.className,a=e.showPagePicker,c=e.showPerPagePicker;this.pageCount=Math.ceil(t/n);var l=i()("bwf-pagination",o);return this.pageCount<=1?t>E[0]&&Object(r.createElement)("div",{className:l},this.renderPerPagePicker())||null:Object(r.createElement)("div",{className:l},this.renderPageArrows(),a&&this.renderPagePicker(),c&&this.renderPerPagePicker())}}])&&O(t.prototype,n),a&&O(t,a),s}(r.Component);C.propTypes={page:s.a.number.isRequired,onPageChange:s.a.func,perPage:s.a.number.isRequired,onPerPageChange:s.a.func,total:s.a.number.isRequired,className:s.a.string,showPagePicker:s.a.bool,showPerPagePicker:s.a.bool,showPageArrowsLabel:s.a.bool},C.defaultProps={onPageChange:c.noop,onPerPageChange:c.noop,showPagePicker:!0,showPerPagePicker:!0,showPageArrowsLabel:!0};var _=C,x=n(102),R=n(104),T=function(e){var t=e.data;return Object(r.createElement)("ul",{className:"bwf-table-summary"},t.map((function(e,t){var n=e.label,o=e.value;return Object(r.createElement)("li",{className:"bwf-table-summary-item",key:t},Object(r.createElement)("span",{className:"bwf-table-summary-value"},o),Object(r.createElement)("span",{className:"bwf-table-summary-label"},n))})))};T.propTypes={data:s.a.array};var I=T;n(395);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(s,e);var t,n,a,l=B(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(t=l.call(this,e)).getShowCols(e.headers);return t.state={showCols:n},t.onColumnToggle=t.onColumnToggle.bind(M(t)),t.onPageChange=t.onPageChange.bind(M(t)),t}return t=s,(n=[{key:"componentDidUpdate",value:function(e){var t=e.headers,n=e.query,r=this.props,o=r.headers,a=r.onColumnsChange,i=r.query,l=this.state.showCols;if(Object(c.isEqual)(o,t)||this.setState({showCols:this.getShowCols(o)}),i.orderby!==n.orderby&&!l.includes(i.orderby)){var s=l.concat(i.orderby);this.setState({showCols:s}),a(s)}}},{key:"getShowCols",value:function(e){return e.map((function(e){var t=e.key,n=e.visible;return!(void 0!==n&&!n)&&t})).filter(Boolean)}},{key:"getVisibleHeaders",value:function(){var e=this.props.headers,t=this.state.showCols;return e.filter((function(e){var n=e.key;return t.includes(n)}))}},{key:"getVisibleRows",value:function(){var e=this.props,t=e.headers,n=e.rows,r=this.state.showCols;return n.map((function(e){return t.map((function(t,n){var o=t.key;return r.includes(o)&&e[n]})).filter(Boolean)}))}},{key:"onColumnToggle",value:function(e){var t=this,n=this.props,r=n.headers,o=n.query,a=n.onQueryChange,i=n.onColumnsChange;return function(){t.setState((function(t){if(t.showCols.includes(e)){if(o.orderby===e){var n=Object(c.find)(r,{defaultSort:!0})||Object(c.first)(r)||{};a("sort")(n.key,"desc")}var l=Object(c.without)(t.showCols,e);return i(l,e),{showCols:l}}var s=[].concat(D(t.showCols),[e]);return i(s,e),{showCols:s}}))}}},{key:"onPageChange",value:function(){var e=this.props,t=e.onPageChange,n=e.onQueryChange;t&&t.apply(void 0,arguments),n&&n("paged").apply(void 0,arguments)}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,a=t.className,c=t.isLoading,l=t.onQueryChange,s=t.onSort,b=t.query,d=t.rowHeader,h=t.rowsPerPage,m=t.showMenu,g=t.summary,v=t.title,O=t.totalRows,w=t.rowClasses,j=this.state.showCols,S=this.props.headers,k=this.getVisibleHeaders(),P=this.getVisibleRows(),E=i()("bwf-table","bwf-analytics-card",a);return Object(r.createElement)(u.a,{className:E,title:v,action:n,menu:m&&Object(r.createElement)(f.a,{label:Object(o.__)("Choose which values to display","funnel-builder"),renderContent:function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(y,null,Object(o.__)("Columns:","funnel-builder")),S.map((function(t){var n=t.key,o=t.label;return t.required?null:Object(r.createElement)(p.a,{checked:j.includes(n),isCheckbox:!0,isClickable:!0,key:n,onInvoke:e.onColumnToggle(n)},o)})))}})},c?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},Object(o.__)("Your requested data is loading","funnel-builder")),Object(r.createElement)(R.a,{numberOfRows:h,headers:k,rowHeader:d,caption:v,query:b})):Object(r.createElement)(x.a,{rows:P,headers:k,rowHeader:d,caption:v,query:b,onSort:s||l("sort"),rowClasses:w}),Object(r.createElement)(_,{key:parseInt(b.paged,10)||1,page:parseInt(b.paged,10)||1,perPage:h,total:O,onPageChange:this.onPageChange,onPerPageChange:l("per_page")}),g&&Object(r.createElement)(I,{data:g}))}}])&&F(t.prototype,n),a&&F(t,a),s}(r.Component);K.propTypes={headers:s.a.arrayOf(s.a.shape({hiddenByDefault:s.a.bool,defaultSort:s.a.bool,isSortable:s.a.bool,key:s.a.string,label:s.a.oneOfType([s.a.string,s.a.node]),required:s.a.bool})),ids:s.a.arrayOf(s.a.number),isLoading:s.a.bool,onQueryChange:s.a.func,onColumnsChange:s.a.func,onSort:s.a.func,query:s.a.object,rowHeader:s.a.oneOfType([s.a.number,s.a.bool]),rows:s.a.arrayOf(s.a.arrayOf(s.a.shape({display:s.a.node,value:s.a.oneOfType([s.a.string,s.a.number,s.a.bool])}))).isRequired,rowsPerPage:s.a.number.isRequired,showMenu:s.a.bool,summary:s.a.arrayOf(s.a.shape({label:s.a.node,value:s.a.oneOfType([s.a.string,s.a.number])})),title:s.a.string.isRequired,totalRows:s.a.number.isRequired,rowClasses:s.a.arrayOf(s.a.string)},K.defaultProps={isLoading:!1,onQueryChange:function(){return function(){}},onColumnsChange:function(){},onSort:void 0,query:{},rowHeader:0,rows:[],showMenu:!0,rowClasses:[]};t.a=K},249:function(e,t,n){},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(0),o=n(1),a=n.n(o);function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=Object(r.createContext)(2);function l(e){return Object(r.createElement)(c.Consumer,null,(function(t){var n="h"+Math.min(t,6);return Object(r.createElement)(n,e)}))}function s(e){var t=e.component,n=e.children,o=i(e,["component","children"]),a=t||"div";return Object(r.createElement)(c.Consumer,null,(function(e){return Object(r.createElement)(c.Provider,{value:e+1},!1===t?n:Object(r.createElement)(a,o,n))}))}s.propTypes={component:a.a.oneOfType([a.a.func,a.a.string,a.a.bool]),children:a.a.node}},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},417:function(e,t,n){"use strict";var r=n(0),o=n(5),a=n(1),i=n.n(a),c=n(11),l=n.n(c),s=(n(454),n(442));function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,o,a=h(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(g(t)),t.fetchOptions=t.fetchOptions.bind(g(t)),t.updateSelected=t.updateSelected.bind(g(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===b(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var o={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(o)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getFormattedOptions(r,t),n.setState({options:o}),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,c,"next",e)}function c(e){p(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return e.value?n.getOptionCompletion(e.value):e})))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e;var r=this.getAutocompleter();return[].concat(u(r.getFreeTextOptions(t,e)),u(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,o=t.inlineTags,a=t.placeholder,i=t.selected,c=t.showClearButton,u=t.staticResults,f=t.disabled,p=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(s.a,{className:l()("bwf-search",n,{"is-static-results":u}),disabled:f,hideBeforeSearch:!0,inlineTags:o,isSearchable:!0,label:a,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:a,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:p,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:i,showClearButton:c,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&y(t.prototype,n),o&&y(t,o),i}(r.Component);O.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool},O.defaultProps={allowFreeTextSearch:!1,onChange:o.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1},t.a=O},425:function(e,t,n){"use strict";var r=n(0);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-c-container",style:{marginTop:20}},Object(r.createElement)("div",{className:"bwf-c-content-inner"},Object(r.createElement)("div",{className:"bwf-c-content-body"},e.children)))}},442:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(11),i=n.n(a),c=n(5),l=n(1),s=n.n(l),u=n(10),f=n(131),p=n(67);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,o,a=m(l);function l(){var e;return y(this,l),(e=a.apply(this,arguments)).handleKeyDown=e.handleKeyDown.bind(v(e)),e.select=e.select.bind(v(e)),e.optionRefs={},e.listbox=Object(r.createRef)(),e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,r=t.selectedIndex;Object(c.isEqual)(n,e.options)||(this.optionRefs={}),r!==e.selectedIndex&&this.scrollToOption(r)}},{key:"getOptionRef",value:function(e){return this.optionRefs.hasOwnProperty(e)||(this.optionRefs[e]=Object(r.createRef)()),this.optionRefs[e]}},{key:"select",value:function(e){var t=this.props.onSelect;e.isDisabled||t(e)}},{key:"scrollToOption",value:function(e){var t=this.listbox.current;if(!(t.scrollHeight<=t.clientHeight)&&this.optionRefs[e]){var n=this.optionRefs[e].current,r=t.clientHeight+t.scrollTop,o=n.offsetTop+n.offsetHeight;o>r?t.scrollTop=o-t.clientHeight:n.offsetTop<t.scrollTop&&(t.scrollTop=n.offsetTop)}}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.decrementSelectedIndex,r=t.incrementSelectedIndex,o=t.options,a=t.onSearch,i=t.selectedIndex,c=t.setExpanded;if(0!==o.length)switch(e.keyCode){case p.UP:n(),e.preventDefault(),e.stopPropagation();break;case p.DOWN:r(),e.preventDefault(),e.stopPropagation();break;case p.ENTER:this.select(o[i]),e.preventDefault(),e.stopPropagation();break;case p.LEFT:case p.RIGHT:c(!1);break;case p.ESCAPE:return c(!1),void a(null);case p.TAB:this.select(o[i]),c(!1),a(null)}}},{key:"toggleKeyEvents",value:function(e){this.props.node[e?"addEventListener":"removeEventListener"]("keydown",this.handleKeyDown,!0)}},{key:"componentDidMount",value:function(){this.toggleKeyEvents(!0)}},{key:"componentWillUnmount",value:function(){this.toggleKeyEvents(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.instanceId,o=t.listboxId,a=t.options,c=t.selectedIndex,l=t.staticList,s=i()("bwf-select-control-listbox",{"is-static":l});return Object(r.createElement)("div",{ref:this.listbox,id:o,role:"listbox",className:s,tabIndex:"-1"},a.map((function(t,o){return Object(r.createElement)(u.Button,{ref:e.getOptionRef(o),key:t.key,id:"bwf-select-control-option-".concat(n,"-").concat(t.key),role:"option","aria-selected":o===c,disabled:t.isDisabled,className:i()("bwf-select-control-option",{"is-selected":o===c}),onClick:function(){return e.select(t)},tabIndex:"-1"},t.label)})))}}])&&d(t.prototype,n),o&&d(t,o),l}(r.Component);w.propTypes={instanceId:s.a.number,listboxId:s.a.string,node:s.a.instanceOf(Element).isRequired,onSelect:s.a.func,options:s.a.arrayOf(s.a.shape({isDisabled:s.a.bool,key:s.a.oneOfType([s.a.number,s.a.string]).isRequired,keywords:s.a.arrayOf(s.a.oneOfType([s.a.string,s.a.number])),label:s.a.oneOfType([s.a.string,s.a.object]),value:s.a.any})).isRequired,selectedIndex:s.a.number,staticList:s.a.bool};var j=w,S=n(40),k=(n(455),function(e){var t=e.id,n=e.instanceId,a=e.isVisible,c=e.label,l=e.popoverContents,s=e.remove,f=e.screenReaderLabel,p=e.setState,b=e.className;if(f=f||c,!c)return null;c=Object(S.decodeEntities)(c);var y=i()("bwf-tag",b,{"has-remove":!!s}),d="bwf-tag-label-".concat(n),h=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},f),Object(r.createElement)("span",{"aria-hidden":"true"},c));return Object(r.createElement)("span",{className:y},l?Object(r.createElement)(u.Button,{className:"bwf-tag-text",id:d,onClick:function(){return p((function(){return{isVisible:!0}}))}},h):Object(r.createElement)("span",{className:"bwf-tag-text",id:d},h),l&&a&&Object(r.createElement)(u.Popover,{onClose:function(){return p((function(){return{isVisible:!1}}))}},l),s&&Object(r.createElement)(u.Button,{className:"bwf-tag-remove",onClick:s(t),label:Object(o.sprintf)(Object(o.__)("Remove %s","funnel-builder"),c),"aria-describedby":d},Object(r.createElement)(u.Dashicon,{icon:"dismiss",size:20})))});k.propTypes={id:s.a.oneOfType([s.a.number,s.a.string]),label:s.a.string.isRequired,popoverContents:s.a.node,remove:s.a.func,screenReaderLabel:s.a.string};var P=Object(f.withState)({isVisible:!1})(Object(f.withInstanceId)(k));function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(l,e);var t,n,a,i=T(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).removeAll=t.removeAll.bind(N(t)),t.removeResult=t.removeResult.bind(N(t)),t}return t=l,(n=[{key:"removeAll",value:function(){(0,this.props.onChange)([])}},{key:"removeResult",value:function(e){var t=this;return function(){var n=t.props,r=n.selected,o=n.onChange,a=Object(c.findIndex)(r,{key:e});o([].concat(C(r.slice(0,a)),C(r.slice(a+1))))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.selected,a=t.showClearButton;return n.length?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-select-control-tags"},n.map((function(t,a){if(!t.label)return null;var i=Object(o.sprintf)(Object(o.__)("%1$s (%2$s of %3$s)","funnel-builder"),t.label,a+1,n.length);return Object(r.createElement)(P,{key:t.key,id:t.key,label:t.label,remove:e.removeResult,screenReaderLabel:i})}))),a&&Object(r.createElement)(u.Button,{className:"bwf-select-control-clear",isLink:!0,onClick:this.removeAll},Object(r.createElement)(u.Icon,{icon:"dismiss"}),Object(r.createElement)("span",{className:"screen-reader-text"},Object(o.__)("Clear all","funnel-builder")))):null}}])&&x(t.prototype,n),a&&x(t,a),l}(r.Component);A.propTypes={onChange:s.a.func,onSelect:s.a.func,selected:s.a.arrayOf(s.a.shape({key:s.a.oneOfType([s.a.number,s.a.string]).isRequired,label:s.a.string})),showClearButton:s.a.bool};var F=A;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(l,e);var t,n,a,c=K(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={isActive:!1},t.input=Object(r.createRef)(),t.updateSearch=t.updateSearch.bind(U(t)),t.onFocus=t.onFocus.bind(U(t)),t.onBlur=t.onBlur.bind(U(t)),t.onKeyDown=t.onKeyDown.bind(U(t)),t}return t=l,(n=[{key:"updateSearch",value:function(e){var t=this;return function(n){t.isBWFMaintainSingleTerm()||e(n.target.value)}}},{key:"onFocus",value:function(e){var t=this,n=this.props,r=n.isSearchable,o=n.setExpanded,a=n.showAllOnFocus,i=n.updateFilteredOptions;return function(n){t.setState({isActive:!0}),r&&a?(n.target.select(),i("")):r?e(n.target.value):o(!0)}}},{key:"onBlur",value:function(){var e=this.props.onBlur;"function"==typeof e&&e(),this.setState({isActive:!1})}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.decrementSelectedIndex,r=t.incrementSelectedIndex,o=t.selected,a=t.onChange,i=t.query,c=t.setExpanded;p.BACKSPACE===e.keyCode&&!i&&o.length&&a(B(o.slice(0,-1))),p.DOWN===e.keyCode&&(r(),c(!0),e.preventDefault(),e.stopPropagation()),p.UP===e.keyCode&&(n(),c(!0),e.preventDefault(),e.stopPropagation())}},{key:"renderButton",value:function(){var e=this.props,t=e.multiple,n=e.selected;return t||!n.length?null:Object(r.createElement)("div",{className:"bwf-select-control-control-value"},n[0].label)}},{key:"renderInput",value:function(){var e=this.props,t=e.activeId,n=e.hasTags,o=e.inlineTags,a=e.instanceId,i=e.isExpanded,c=e.isSearchable,l=e.listboxId,s=e.onSearch,u=e.placeholder,f=e.searchInputType,p=this.state.isActive,b=this.isBWFMaintainSingleTerm();return Object(r.createElement)("input",{autoComplete:"off",className:"bwf-select-control-control-input",id:"bwf-select-control-".concat(a,"-control-input"),ref:this.input,type:c?f:"button",value:this.getInputValue(),placeholder:p&&!b?u:"",onChange:this.updateSearch(s),onFocus:this.onFocus(s),onBlur:this.onBlur,onKeyDown:this.onKeyDown,role:"combobox","aria-autocomplete":"list","aria-expanded":i,"aria-haspopup":"true","aria-owns":l,"aria-controls":l,"aria-activedescendant":t,"aria-describedby":n&&o?"search-inline-input-".concat(a):null})}},{key:"isBWFMaintainSingleTerm",value:function(){var e=this.props,t=e.selected;return!!e.bwfMaintainSingleTerm&&t.length>0}},{key:"getInputValue",value:function(){var e=this.props,t=e.isFocused,n=e.isSearchable,r=e.multiple,o=e.query,a=e.selected,i=a.length?a[0].label:"";return r||t?this.isBWFMaintainSingleTerm()?"":n&&t&&o?o:"":i}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.hasTags,c=t.help,l=t.inlineTags,s=t.instanceId,u=t.isSearchable,f=t.label,p=t.query,b=this.state.isActive;return Object(r.createElement)("div",{className:i()("components-base-control","bwf-select-control-control",n,{empty:!p||0===p.length,"is-active":b,"has-tags":l&&a,"with-value":this.getInputValue().length,"has-error":!!c}),onClick:function(){e.input.current.focus()}},u&&Object(r.createElement)("i",{className:"material-icons-outlined"},"search"),l&&Object(r.createElement)(F,this.props),Object(r.createElement)("div",{className:"components-base-control__field"},!!f&&Object(r.createElement)("label",{htmlFor:"bwf-select-control-".concat(s,"-control-input"),className:"components-base-control__label"},f),this.renderInput(),l&&Object(r.createElement)("span",{id:"search-inline-input-".concat(s),className:"screen-reader-text"},Object(o.__)("Move backward for selected items","funnel-builder")),!!c&&Object(r.createElement)("p",{id:"bwf-select-control-".concat(s,"__help"),className:"components-base-control__help"},c)))}}])&&M(t.prototype,n),a&&M(t,a),l}(r.Component);$.propTypes={hasTags:s.a.bool,help:s.a.oneOfType([s.a.string,s.a.node]),inlineTags:s.a.bool,isSearchable:s.a.bool,instanceId:s.a.number,label:s.a.string,listboxId:s.a.string,onBlur:s.a.func,onChange:s.a.func,onSearch:s.a.func,placeholder:s.a.string,query:s.a.string,selected:s.a.arrayOf(s.a.shape({key:s.a.oneOfType([s.a.number,s.a.string]).isRequired,label:s.a.string})),showAllOnFocus:s.a.bool,bwfMaintainSingleTerm:s.a.bool};var Q=$;n(456);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(n,e);var t=oe(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state=Z(Z({},r.constructor.getInitialState()),{},{filteredOptions:[],selectedIndex:0}),r.bindNode=r.bindNode.bind(ie(r)),r.decrementSelectedIndex=r.decrementSelectedIndex.bind(ie(r)),r.incrementSelectedIndex=r.incrementSelectedIndex.bind(ie(r)),r.onAutofillChange=r.onAutofillChange.bind(ie(r)),r.updateFilteredOptions=Object(c.debounce)(r.updateFilteredOptions.bind(ie(r)),e.searchDebounceTime),r.search=r.search.bind(ie(r)),r.selectOption=r.selectOption.bind(ie(r)),r.setExpanded=r.setExpanded.bind(ie(r)),r}return ne(n,null,[{key:"getInitialState",value:function(){return{isExpanded:!1,isFocused:!1,query:""}}}]),ne(n,[{key:"bindNode",value:function(e){this.node=e}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelected(),t=this.props.multiple,n=this.constructor.getInitialState();!t&&e.length&&e[0].label&&(n.query=e[0].label),this.setState(n)}},{key:"handleFocusOutside",value:function(){this.reset()}},{key:"hasTags",value:function(){var e=this.props,t=e.multiple,n=e.selected;return!!t&&n.some((function(e){return Boolean(e.label)}))}},{key:"getSelected",value:function(){var e=this.props,t=e.multiple,n=e.options,r=e.selected;if(t||Array.isArray(r))return r;var o=n.find((function(e){return e.key===r}));return o?[o]:[]}},{key:"selectOption",value:function(e){var t=this.props,n=t.multiple,r=t.onChange,o=t.selected,a=this.state.query,i=n?[].concat(J(o),[e]):[e];(this.reset(i),Array.isArray(o))?-1===Object(c.findIndex)(o,{key:e.key})&&r(i,a):o!==e.key&&r(e.key,a)}},{key:"decrementSelectedIndex",value:function(){var e=this.state.selectedIndex,t=this.getOptions(),n=null!==e?(0===e?t.length:e)-1:t.length-1;this.setState({selectedIndex:n})}},{key:"incrementSelectedIndex",value:function(){var e=this.state.selectedIndex,t=this.getOptions(),n=null!==e?(e+1)%t.length:0;this.setState({selectedIndex:n})}},{key:"announce",value:function(e){var t=this.props.debouncedSpeak;t&&(e.length?t(Object(o.sprintf)(Object(o._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length,"funnel-builder"),e.length),"assertive"):t(Object(o.__)("No results.","funnel-builder"),"assertive"))}},{key:"getOptions",value:function(){var e=this.props,t=e.isSearchable,n=e.options,r=this.state.filteredOptions;return t?r:n}},{key:"getFilteredOptions",value:function(e,t){for(var n=this.props,r=n.excludeSelectedOptions,o=n.getSearchExpression,a=n.maxResults,i=n.onFilter,l=this.getSelected().map((function(e){return e.key})),s=[],u=o(Object(c.escapeRegExp)(t?t.trim():"")),f=u?new RegExp(u,"i"):/^$/,p=0;p<e.length;p++){var b=e[p];if(!r||!l.includes(b.key)){var y=b.keywords,d=void 0===y?[]:y;if("string"==typeof b.label&&(d=[].concat(J(d),[b.label])),d.some((function(e){return f.test(e)}))&&(s.push(b),a&&s.length===a))break}}return i(s,t)}},{key:"setExpanded",value:function(e){this.setState({isExpanded:e})}},{key:"search",value:function(e){this.setState({query:e,isFocused:!0}),this.updateFilteredOptions(e)}},{key:"updateFilteredOptions",value:function(e){var t=this,n=this.props,r=n.hideBeforeSearch,o=n.options,a=n.onSearch,i=this.activePromise=Promise.resolve(a(o,e)).then((function(n){if(i===t.activePromise){var o=null===e||e.length||r?t.getFilteredOptions(n,e):n;t.setState({selectedIndex:0,filteredOptions:o,isExpanded:Boolean(o.length)},(function(){return t.announce(o)}))}}))}},{key:"onAutofillChange",value:function(e){var t=this.props.options,n=this.getFilteredOptions(t,e.target.value);1===n.length&&this.selectOption(n[0])}},{key:"render",value:function(){var e=this.props,t=e.autofill,n=e.children,o=e.className,a=e.controlClassName,c=e.inlineTags,l=e.instanceId,s=e.isSearchable,u=e.options,f=this.state,p=f.isExpanded,b=f.isFocused,y=f.selectedIndex,d=this.hasTags(),h=(u[y]||{}).key,m=void 0===h?"":h,g=p?"bwf-select-control-listbox-".concat(l):null,v=p?"bwf-select-control-option-".concat(l,"-").concat(m):null;return Object(r.createElement)("div",{className:i()("bwf-select-control",o,{"has-inline-tags":d&&c,"is-focused":b,"is-searchable":s}),ref:this.bindNode},t&&Object(r.createElement)("input",{onChange:this.onAutofillChange,name:t,type:"text",className:"bwf-select-control-autofill-input",tabIndex:"-1"}),n,Object(r.createElement)(Q,G({},this.props,this.state,{activeId:v,className:a,hasTags:d,isExpanded:p,listboxId:g,onSearch:this.search,selected:this.getSelected(),setExpanded:this.setExpanded,updateFilteredOptions:this.updateFilteredOptions,decrementSelectedIndex:this.decrementSelectedIndex,incrementSelectedIndex:this.incrementSelectedIndex,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm})),!c&&d&&Object(r.createElement)(F,G({},this.props,{selected:this.getSelected()})),p&&Object(r.createElement)(j,G({},this.props,this.state,{activeId:v,listboxId:g,node:this.node,onSelect:this.selectOption,onSearch:this.search,options:this.getOptions(),decrementSelectedIndex:this.decrementSelectedIndex,incrementSelectedIndex:this.incrementSelectedIndex,setExpanded:this.setExpanded})))}}]),n}(r.Component);le.propTypes={autofill:s.a.string,children:s.a.node,className:s.a.string,controlClassName:s.a.string,excludeSelectedOptions:s.a.bool,onFilter:s.a.func,getSearchExpression:s.a.func,help:s.a.oneOfType([s.a.string,s.a.node]),inlineTags:s.a.bool,isSearchable:s.a.bool,label:s.a.string,onChange:s.a.func,onSearch:s.a.func,options:s.a.arrayOf(s.a.shape({isDisabled:s.a.bool,key:s.a.oneOfType([s.a.number,s.a.string]).isRequired,keywords:s.a.arrayOf(s.a.oneOfType([s.a.string,s.a.number])),label:s.a.oneOfType([s.a.string,s.a.object]),value:s.a.any})).isRequired,placeholder:s.a.string,searchDebounceTime:s.a.number,selected:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.shape({key:s.a.oneOfType([s.a.number,s.a.string]).isRequired,label:s.a.string}))]),maxResults:s.a.number,multiple:s.a.bool,showClearButton:s.a.bool,searchInputType:s.a.oneOf(["text","search","number","email","tel","url"]),hideBeforeSearch:s.a.bool,showAllOnFocus:s.a.bool,staticList:s.a.bool,bwfMaintainSingleTerm:s.a.bool},le.defaultProps={autofill:null,excludeSelectedOptions:!0,getSearchExpression:c.identity,inlineTags:!1,isSearchable:!1,onChange:c.noop,onFilter:c.identity,onSearch:function(e){return Promise.resolve(e)},maxResults:0,multiple:!1,searchDebounceTime:0,searchInputType:"search",selected:[],showAllOnFocus:!1,showClearButton:!1,hideBeforeSearch:!1,staticList:!1,bwfMaintainSingleTerm:!1};t.a=Object(f.compose)([u.withSpokenMessages,f.withInstanceId,u.withFocusOutside])(le)},454:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){},66:function(e,t,n){"use strict";var r=n(0),o=n(11),a=n.n(o),i=n(10),c=n(143),l=n(396),s=n(1),u=n.n(s);n(249);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,o,s=d(u);function u(){return p(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.renderContent,o=e.className;return n?Object(r.createElement)("div",{className:"bwf-ellipsis-menu ".concat(o,"-medium")},Object(r.createElement)(i.Dropdown,{contentClassName:"bwf-ellipsis-menu__popover",position:"bottom left",renderToggle:function(e){var n=e.onToggle,o=e.isOpen,s=a()("bwf-ellipsis-menu__toggle",{"is-opened":o});return Object(r.createElement)(i.Button,{className:s,onClick:n,icon:"ellipsis",title:t,"aria-expanded":o},Object(r.createElement)(c.a,{icon:l.a}))},renderContent:function(e){return Object(r.createElement)(i.NavigableMenu,{className:"bwf-ellipsis-menu__content"},n(e))}})):null}}])&&b(t.prototype,n),o&&b(t,o),u}(r.Component);g.propTypes={label:u.a.string.isRequired,renderContent:u.a.func},t.a=g}}]);