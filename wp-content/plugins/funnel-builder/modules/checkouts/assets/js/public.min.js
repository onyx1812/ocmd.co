"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}!function(t){wfacp_frontend.hooks={hooks:{action:{},filter:{}},addAction:function(o,t,n,e){this.addHook("action",o,t,n,e)},addFilter:function(o,t,n,e){this.addHook("filter",o,t,n,e)},doAction:function(o){this.doHook("action",o,arguments)},applyFilters:function(o){return this.doHook("filter",o,arguments)},removeAction:function(o,t){this.removeHook("action",o,t)},removeFilter:function(o,t,n){this.removeHook("filter",o,t,n)},addHook:function(o,t,n,e,a){null==this.hooks[o][t]&&(this.hooks[o][t]=[]);var c=this.hooks[o][t];null==a&&(a=t+"_"+c.length),null==e&&(e=10),this.hooks[o][t].push({tag:a,callable:n,priority:e})},doHook:function(o,t,n){if(n=Array.prototype.slice.call(n,1),null!=this.hooks[o][t]){var e,a=this.hooks[o][t];a.sort(function(o,t){return o.priority-t.priority});for(var c=0;c<a.length;c++)"function"!=typeof(e=a[c].callable)&&(e=window[e]),"action"==o?e.apply(null,n):n[0]=e.apply(null,n)}if("filter"==o)return n[0]},removeHook:function(o,t,n,e){if(null!=this.hooks[o][t])for(var a=this.hooks[o][t],c=a.length-1;0<=c;c--)null!=e&&e!=a[c].tag||null!=n&&n!=a[c].priority||a.splice(c,1)}},wfacp_frontend.blocked_element=[],wfacp_frontend.call_backs={},t.wfacp_step_scrolling=function(o){o.length&&t("html, body").animate({scrollTop:o.offset().top-100},700)},void 0===t.fn.block&&(t.fn.block=function(o){},t.fn.unblock=function(o){},t.scroll_to_notices=function(){}),t.fn.aero_block=function(o){if(0!=this.length){if("object"==_typeof(o)&&0<Object.keys(o).length)this.block(o);else{var t={message:wfacp_frontend.hooks.applyFilters("wfacp_block_message",null),overlayCSS:{background:"#fff",opacity:.6}};this.block(t)}wfacp_frontend.blocked_element.push(this)}},t.fn.aero_unblock=function(){this.unblock()},t(document.body).on("updated_checkout",function(o,t){if("object"==_typeof(t)&&t.hasOwnProperty("fragments")&&t.fragments.hasOwnProperty("wfacp_ajax_data")){var n=t.fragments.wfacp_ajax_data.action,e=t.fragments.wfacp_ajax_data,a=t.fragments;wfacp_frontend.hooks.doAction("wfacp_ajax_response",e,a),wfacp_frontend.hooks.doAction("wfacp_ajax_"+n,e,a);var c=t.fragments.wfacp_ajax_data.callback_id;""!==c&&wfacp_frontend.call_backs.hasOwnProperty(c)&&"function"==typeof wfacp_frontend.call_backs[c]&&wfacp_frontend.call_backs[c](t.fragments.wfacp_ajax_data,t.fragments)}var f=wfacp_frontend.blocked_element;if(0<f.length)for(var l=0;l<f.length;l++)0!=f[l].length&&(f[l].aero_unblock(),wfacp_frontend.blocked_element.splice(l,1))})}(jQuery);

"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(_){var i,r={message:wfacp_frontend.hooks.applyFilters("wfacp_block_message",null),overlayCSS:{background:"#fff",opacity:.6}},d=window.innerWidth,a=!1,o=!1,n=_(".wfacp_err_message"),s=_("form.checkout"),t=null,c=null,p=null,f=!1;function e(){if(1367<d&&_("body").hasClass("wfacp_cls_layout_9")&&0<_(".wfacp_outside_header").length){var e,a=_(window).height(),t=_(".wfacp-form").innerHeight()+(e=_(".wfacp-form .wfacp_inner_footer_m").innerHeight()),o=a-_(".wfacp-form").innerHeight();if(t<a){_(".wfacp-left-wrapper").css("padding-bottom",o),_(".wfacp_footer_n").hasClass()||(_(".wfacp-form").css("padding-bottom",e),_(".wfacp_inner_footer_m").addClass("wfacp_change_position"))}else _(".wfacp-left-wrapper").css("padding-bottom",0),_(".wfacp-form").css("padding-bottom",0),_(".wfacp_inner_footer_m").removeClass("wfacp_change_position")}}function l(){_(document.body).trigger("country_to_state_changed"),update_checkout()}function w(e,a){"1"!==wfacp_frontend.is_customizer&&("object"==_typeof(a)&&a.hasOwnProperty("aero_do_not_state_service")||(clearTimeout(c),c=setTimeout(function(){var e=_("#shipping_postcode").val(),a=_("#shipping_country").val();0!==_("#shipping_state").length&&void 0!==e&&""!==e&&void 0!==a&&""!==a&&_.get("//api.zippopotam.us/"+a+"/"+e,function(e){if(0<Object.keys(e).length&&e.hasOwnProperty("places")&&0<e.places.length){var a=e.places[0];if(0<Object.keys(a).length&&a.hasOwnProperty("state abbreviation")){var t=a["state abbreviation"];if(""==t)return;var o=_("#shipping_state option[value="+t+"]");if(0<o.length){var i=_("#shipping_state");i.val(t),i.parents(".form-row").addClass("wfacp-anim-wrap"),i.trigger("change"),_("#select2-shipping_state-container").text(o.text())}}}})},100)))}function u(e,a){"1"!==wfacp_frontend.is_customizer&&("object"==_typeof(a)&&a.hasOwnProperty("aero_do_not_state_service")||(clearTimeout(p),p=setTimeout(function(){var e=_("#billing_postcode").val(),a=_("#billing_country").val();0!==_("#billing_state").length&&void 0!==e&&""!==e&&void 0!==a&&""!==a&&_.get("//api.zippopotam.us/"+a+"/"+e,function(e){if(0<Object.keys(e).length&&e.hasOwnProperty("places")&&0<e.places.length){var a=e.places[0];if(0<Object.keys(a).length&&a.hasOwnProperty("state abbreviation")){var t=a["state abbreviation"];if(""==t)return;var o=_("#billing_state option[value="+t+"]");if(0<o.length){var i=_("#billing_state");i.val(t),i.parents(".form-row").addClass("wfacp-anim-wrap"),_("#select2-billing_state-container").text(o.text())}}}})},100)))}function m(){_("form.woocommerce-checkout").on("checkout_place_order",function(){if(_(".woocommerce-NoticeGroup").remove(),0<(e=_(".wfacp_incomplete_variation")).length&&(_.scroll_to_notices(e.eq(0)),setTimeout(function(){e.addClass("wfacp_animate_shake"),setTimeout(function(){e.removeClass("wfacp_animate_shake")},500)},1e3),1))return!1;var e;wfacp_frontend.hooks.doAction("wfacp_checkout_place_order")})}function h(){"undefined"!=typeof wfacp_variation_attributes_data&&null!==wfacp_variation_attributes_data&&(wfacp_storage.variation_data=wfacp_variation_attributes_data),function(){var e=0;if(480<d){var a=_(".div_wrap_sec .wfacp-three-cols"),t=_(".div_wrap_sec .wfacp-two-cols");0<a.length?(a.each(function(){_(this).height()>e&&(e=_(this).height())}),a.height(e)):0<t.length&&(t.each(function(){_(this).height()>e&&(e=_(this).height())}),t.height(e))}}(),function(){if(991<d){var e=_(".wfacp_cls_layout_1 .wfacp_header .wfacp-container.wfacp-inner-header");if(0<e.length){var a=e.height()-_(".wfacp-header").height();_(".wfacp-panel-wrapper").css("margin-top",a)}}}(),_("body").addClass("wfacp_page_loaded");var e=wfacp_frontend.template_name;""==e||_("body").hasClass(e)||_("body").addClass(e);var a=!1,t=_("#billing_country"),o=_("#billing_country_field"),i=_("#shipping_country"),n=_("#shipping_country_field"),c=_("#shipping_state"),r=_("#billing_state");0<t.length&&""!==t.val()&&o.addClass("wfacp-anim-wrap"),t.parents(".wfacp-form-control-wrapper").is(":visible")&&(t.is("input")||t.trigger("change")),i.parents(".wfacp-form-control-wrapper").is(":visible")&&(a=!0,i.is("input")||i.trigger("change")),setTimeout(function(){0<r.length&&(o.removeClass("woocommerce-invalid-required-field"),r.parents(".wfacp-form-control-wrapper").removeClass("woocommerce-invalid-required-field"),r.parents(".wfacp-form-control-wrapper").removeClass("wfacp_state_wrap"),""!==r.val()&&r.parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap"),g(_("#billing_state_field"),_("#billing_state").val())),0<i.length&&(n.removeClass("woocommerce-invalid-required-field"),n.is(":visible")&&_("#ship-to-different-address-checkbox").prop("checked",!0),""!==i.val()&&n.addClass("wfacp-anim-wrap")),0<c.length&&(c.parents(".wfacp-form-control-wrapper").removeClass("woocommerce-invalid-required-field"),c.parents(".wfacp-form-control-wrapper").is(":visible")&&(c.parents(".wfacp-form-control-wrapper").removeClass("woocommerce-invalid-required-field"),c.parents(".wfacp-form-control-wrapper").removeClass("wfacp_state_wrap"),""!==c.val()&&c.parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap")),setTimeout(function(){g(_("#shipping_state_field"),_("#shipping_state").val())},600))},200);var s=_("#billing_shipping_index").val();if("billing"===s?_(".wfacp_billing_fields").removeClass("validate-required"):"shipping"===s&&_(".wfacp_shipping_fields").removeClass("validate-required"),"undefined"!=typeof wc_address_i18n_params&&!1===a&&0<i.length){var p=i.val(),l=wc_address_i18n_params.locale.replace(/&quot;/g,'"');JSON.parse(l).hasOwnProperty(p)||i.trigger("change")}m(),function(){if("function"==typeof _.fn.select2){var e=_(".wfacp_select2_custom_field");0<e.length&&e.select2();var a=_(".wfacp_custom_field_multiselect select");0<a.length&&a.each(function(){var e=_(this).data("max-selection"),a=_(this).data("max-error");null==a&&(a="");var t=_(this);null!=e&&1<e?_(this).select2({maximumSelectionLength:e,language:{maximumSelected:function(e){return a=a.replace("{maximum_number}",e.maximum),a=wfacp_frontend.hooks.applyFilters("wfacp_multiselect_error_message",a,e,t)}}}):_(this).select2()})}}(),setTimeout(function(){_("body").removeClass("wfacp_do_not_show_block"),update_checkout(0,f=!0)},1e3),_(document.body).trigger("wfacp_setup")}function g(e,a){void 0!==a&&""!=a&&null!=a||e.removeClass("wfacp-anim-wrap")}window.wfacp_haschanges="no",window.wfacp_storage={add_to_cart:{},analytics_data:wfacp_analytics_data,variation_data:{}},window.set_aero_data=function(e,a){if("function"==typeof a){var t=(new Date).getTime();e.callback_id=t,wfacp_frontend.call_backs[t]=a}wfacp_frontend.hooks.doAction("wfacp_before_ajax_"+e.action,e.data),e=wfacp_frontend.hooks.applyFilters("wfacp_before_ajax_data_"+e.action,e),wfacp_frontend.hooks.applyFilters("wfacp_run_update_order_review_"+e.action,!0,e)?("object"==_typeof(e)&&(e=JSON.stringify(e)),_("#wfacp_input_hidden_data").val(e),setTimeout(function(){_(document.body).trigger("update_checkout")},100)):wfacp_frontend.hooks.doAction("wfacp_run_update_order_review_placeholder_"+e.action,e)},window.show_blocked_mini_cart=function(){_(".wfacp_min_cart_widget").aero_block(r),_(".wfacp_mb_mini_cart_sec_accordion_content").aero_block(r)},window.show_unblocked_mini_cart=function(){_(".wfacp_min_cart_widget").aero_unblock(),_(".wfacp_mb_mini_cart_sec_accordion_content").aero_unblock()},window.wfacp_send_ajax=function(a,t){if("1"!==wfacp_frontend.is_customizer){var e=wfacp_frontend.admin_ajax;a.hasOwnProperty("url")&&(e=a.url),a.action="wfacp_"+a.action,wfacp_frontend.hasOwnProperty("wc_endpoints")&&wfacp_frontend.wc_endpoints.hasOwnProperty(a.action)&&(e=wfacp_frontend.wc_endpoints[a.action]),_("#product_switcher_need_refresh").val(1),_(document.body).trigger(a.action,a);var o={action:a.action,wfacp_nonce:wfacp_frontend.wfacp_nonce,data:a.data,post_data:_("#wfacp_checkout_form").serialize()};o=wfacp_frontend.hooks.applyFilters("wfacp_send_ajax_data",o,a.action),_.ajax({url:e,type:a.type,data:o,success:function(e){"object"!==_typeof(e)&&(e={status:!1}),cart_virtual_fnc(e),"function"==typeof t&&(e.action=a.action,t(e))},error:function(e){e.hasOwnProperty("status")&&(403==e.status?console.log("Aero: Page is cached"):500==e.status?console.log("Aero: Site Contain fatal error"):502==e.status?console.log("Aero: Bad gateway"):console.log("Aero: Error",e.status))}})}else console.log("stop execution of ajax in customizer for aero checkout")},window.wfacp_submit_error=function(e){var a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];console.log(e);var t=_(".checkout.woocommerce-checkout");_(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),t.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+e+"</div>"),t.removeClass("processing").aero_unblock(),!0===a&&t.find(".input-text, select, input:checkbox").trigger("validate").blur(),_.scroll_to_notices(_(".woocommerce-NoticeGroup.woocommerce-NoticeGroup-checkout"))},window.wfacp_show_error=function(e,a){if(0!==e.length){e.find(".wfacp_product_switcher_error").remove();var t=e.parents("tr"),o=e.parents("tbody");if(o.find(".wfacp_ps_error_state").remove(),e.hasClass("product-name-area")){t.addClass("wfacp_noborder");var i="";e.find(".product-name").hasClass("wfacp_summary_img_true")&&(i=" wfacp_enable_image "),t.after('<tr class="wfacp_ps_error_state'+i+'" ><td colspan="2"><div class="wfacp_product_switcher_error"style="clear:both">'+a.error+"</div></td></tr>")}else e.append('<div class="wfacp_product_switcher_error"style="clear:both">'+a.error+"</div>");if(a.hasOwnProperty("qty")){var n=e.find(".wfacp_product_switcher_quantity").data("value"),c=a.qty;0<parseInt(n)&&(c=n),e.find(".wfacp_product_switcher_quantity").val(c)}setTimeout(function(e){e.hasClass("product-name-area")?(o.find(".wfacp_ps_error_state").remove(),t.removeClass("wfacp_noborder")):e.find(".wfacp_product_switcher_error").remove()},1e5,e)}},window.set_variation_data=function(e,a){return void 0!==a&&(a.hasOwnProperty("variation_id")&&(e.variation_id=a.variation_id),a.hasOwnProperty("quantity")&&(e.quantity=a.quantity),a.hasOwnProperty("attributes")&&(e.attributes=a.attributes)),e},window.populate_fields_value=function(){var e=_(".wfacp-form-control");if("undefined"!=typeof Storage&&0!==e.length&&wfacp_frontend.hasOwnProperty("autopopulate")&&"yes"===wfacp_frontend.autopopulate){var a=window.localStorage.getItem("wfacp_form_values");if(null!=a&&"object"===_typeof(a=JSON.parse(a))&&0!==Object.keys(a).length)for(var t in a){var o=_("#"+t);a.hasOwnProperty(t)&&""!==a[t]?(o.val(a[t]),o.parents(".form-row").hasClass("wfacp-anim-wrap")||o.parents(".form-row").addClass("wfacp-anim-wrap")):o.parents(".form-row").removeClass("wfacp-anim-wrap")}}},window.update_fragments=function(e){},window.update_checkout=function(e){1!=(1<arguments.length&&void 0!==arguments[1]&&arguments[1])?(e=void 0!==e?parseInt(e):1e3,!1===o&&(clearTimeout(t),t=setTimeout(function(){_(document.body).trigger("update_checkout")},e))):_(document.body).trigger("update_checkout")},window.validate_fields=function(e){0!==e.length&&(e.each(function(e){var a=_(this),t=a.closest(".form-row"),o=!0,i=t.is(".validate-required"),n=t.is(".validate-email"),c=a.val();i&&("checkbox"!==a.attr("type")||a.is(":checked")?"select-multiple"===a[0].type?null!=a.val()&&null!=a.val()&&""!==a.val()&&0!==a.val().length||(t.removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),o=!1):0<a.parents(".wfacp_custom_field_radio_wrap").length?0==a.parents(".wfacp_custom_field_radio_wrap").find("input:checked").length?(o=!1,t.removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field")):o=!0:null!=c&&""!==c.trim()||(t.removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),o=!1):(t.removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),o=!1)),!(n=wfacp_frontend.hooks.applyFilters("wfacp_field_validate_email",n,a,t))||a.val()&&(new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(a.val())||(t.removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-email"),o=!1)),(o=wfacp_frontend.hooks.applyFilters("wfacp_field_validated",o,a,t))&&t.removeClass("woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email").addClass("woocommerce-validated")}),wfacp_frontend.hooks.doAction("wfacp_fields_validation",e))},window.wfacp_validate_email=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},window.refresh_page_data=function(e){if(""!==wfacp_frontend.is_global)return update_checkout(),void(window.wfacp_haschanges="no");var t={products:{},coupon:"",wfacp_id:e},a=_("fieldset.wfacp-selected-product"),o=_("fieldset.wfacp_product_row");if(0<a.length)a.each(function(){if(!("hidden"!==_(this).find(".wfacp_switcher_checkbox").attr("type")&&0<_(this).find(".wfacp_switcher_checkbox:checked"))&&""!==_(this).attr("cart_key")){var e=_(this).data("item-key"),a=1;0<_(this).find("input.wfacp_product_switcher_quantity").length&&(a=_(this).find("input.wfacp_product_switcher_quantity").val()),t.products[e]=a}});else if(0<o.length){var i=o.find("input.wfacp_switcher_checkbox");if(0<i.length){var n=i.eq(0);if("checkbox"==n.attr("type")||"radio"==n.attr("type"))return void n.trigger("click");t.products=wfacp_frontend.products_in_cart}else t.products=wfacp_frontend.products_in_cart}else t.products=wfacp_frontend.products_in_cart;var c=_(".woocommerce-remove-coupon");0<c.length&&(t.coupon=c.eq(0).data("coupon")),0!==Object.keys(t.products).length&&(s.aero_block(r),set_aero_data({action:"update_cart_multiple_page",type:"post",data:t},function(e){window.wfacp_haschanges="no",window.localStorage.setItem("wfacp_checkout_page_id",wfacp_frontend.id),s.aero_unblock(),!0===e.status&&_("#wfacp_has_active_multi_checkout").val(wfacp_frontend.id)}))},window.is_document_visible=function(){return!document.hidden},_(document).on("keydown",function(e){9===e.which&&(a=!0)}),_(document).on("focus",".select2",function(){a&&(a=!1,_(this).siblings("select").select2("open"))}),_(document.body).on("focus",".wfacp-form-control",function(){_(this).parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap")}),_(document.body).on("keyup",".wfacp-form-control",function(){var e=_(this).parents(".wfacp-form-control-wrapper");e.addClass("wfacp-anim-wrap"),""===_(this).val()&&e.hasClass("validate-required")&&e.addClass("woocommerce-invalid woocommerce-invalid-required-field")}),_(document.body).on("change",".wfacp-form-control",function(){var e=_(this).find(".input-radio");0<e.length?0<e.is(":checked").length?_(this).parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap"):_(this).parents(".wfacp-form-control-wrapper").removeClass("wfacp-anim-wrap"):null!=_(this).val()&&""!=_(this).val()?""!==_(this).val()&&(_(this).parent().siblings(".wfacp_input_error_msg").hide(),_(this).parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap")):_(this).parents(".wfacp-form-control-wrapper").removeClass("wfacp-anim-wrap")}),_(document.body).on("focusout",".wfacp-form-control",function(){var e=_(this).find(".input-radio");if(0<e.length)0<e.is(":checked").length?_(this).parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap"):_(this).parents(".wfacp-form-control-wrapper").removeClass("wfacp-anim-wrap");else if(""===_(this).val()){var a=_(this).parents(".wfacp-form-control-wrapper");a.removeClass("wfacp-anim-wrap"),a.hasClass("validate-required")&&a.addClass("woocommerce-invalid woocommerce-invalid-required-field")}}),_(document.body).on("change","#shipping_same_as_billing,.shipping_same_as_billing",function(){var a=wfacp_frontend.wc_customizer_validation_status,e=_(this).prop("type");!0===("radio"==e&&"option_2"==_(this).val()||!("checkbox"!=e||!_(this).is(":checked")))?(_(".ship_to_different_address").val(1).prop("checked",!0),_(".wfacp_shipping_fields").each(function(){_(this).removeClass("wfacp_shipping_field_hide"),_(this).addClass("wfacp_shipping_field_show");var e=_(this).attr("id");_(this).addClass("validate-required"),_(this).hasClass("validate-required")&&void 0!==a[e]&&"wfacp_required_optional"===a[e]&&_(this).removeClass("validate-required")}),_("#shipping_first_name").val(""),_("#shipping_last_name").val(""),_("#shipping_address_1").val(""),_("#shipping_city").val(""),_("#shipping_first_name_field").removeClass("wfacp-anim-wrap"),_("#shipping_last_name_field").removeClass("wfacp-anim-wrap"),_("#shipping_address_1_field").removeClass("wfacp-anim-wrap"),_("#shipping_city_field").removeClass("wfacp-anim-wrap")):(_(".ship_to_different_address").prop("checked",!1),_(".wfacp_shipping_fields").each(function(){_(this).addClass("wfacp_shipping_field_hide"),_(this).removeClass("wfacp_shipping_field_show"),_(this).removeClass("validate-required")}),_("#shipping_first_name").val(_("#billing_first_name").val()),_("#shipping_last_name").val(_("#billing_last_name").val()),_("#shipping_address_1").val(_("#billing_address_1").val()),_("#shipping_city").val(_("#billing_city").val()),_("#shipping_state").val(_("#billing_state").val()),_("#shipping_country").val(_("#billing_country").val()).trigger("change")),l()}),_(document.body).on("change","#billing_same_as_shipping,.billing_same_as_shipping",function(){var t=wfacp_frontend.wc_customizer_validation_status,e=_(this).prop("type");if(!0===("radio"==e&&"option_2"==_(this).val()||!("checkbox"!=e||!_(this).is(":checked")))){_("#wfacp_billing_same_as_shipping").val(1),_(".wfacp_billing_fields").each(function(){_(this).removeClass("wfacp_billing_field_hide"),_(this).addClass("wfacp_billing_field_show")}),_("#billing_address_1").val(""),_("#billing_address_2").val(""),_("#billing_city").val(""),_("#billing_postcode").val(""),0<_("#billing_first_name_field").parents(".wfacp_divider_billing").length&&(_("#billing_first_name").val(""),_("#billing_first_name_field").removeClass("wfacp-anim-wrap")),0<_("#billing_last_name_field").parents(".wfacp_divider_billing").length&&(_("#billing_last_name").val(""),_("#billing_last_name_field").removeClass("wfacp-anim-wrap")),_("#billing_address_1_field").removeClass("wfacp-anim-wrap"),_("#billing_city_field").removeClass("wfacp-anim-wrap"),_("#billing_postcode_field").removeClass("wfacp-anim-wrap");var a=_(".wfacp_billing_field_show");a.addClass("validate-required"),a.each(function(){var e=_(this),a=e.attr("id");e.hasClass("validate-required")&&void 0!==t[a]&&"wfacp_required_optional"===t[a]&&e.removeClass("validate-required")})}else{_("#wfacp_billing_same_as_shipping").val(0),_(".wfacp_billing_fields").each(function(){_(this).addClass("wfacp_billing_field_hide"),_(this).removeClass("wfacp_shipping_field_show")}),_("#billing_first_name").val(_("#shipping_first_name").val()),_("#billing_last_name").val(_("#shipping_last_name").val()),_("#billing_address_1").val(_("#shipping_address_1").val()),_("#billing_address_2").val(_("#shipping_address_2").val()),_("#billing_city").val(_("#shipping_city").val()),_("#billing_state").val(_("#shipping_state").val()),_("#billing_country").val(_("#shipping_country").val()).trigger("change"),_("#billing_postcode").val(_("#shipping_postcode").val()),_(".wfacp_billing_field_show").removeClass("woocommerce-invalid woocommerce-invalid-required-field validate-required")}l()}),_(document.body).on("wfacp_init",function(){h()}),_(document.body).on("update_checkout",function(){_(".wfacp_order_total_field").aero_block(r);var e=_(".foo_event_wrap");0<e.length&&e.aero_block(r),o=!0,show_blocked_mini_cart()}),_(document.body).on("updated_checkout",function(e,a){_("#product_switcher_need_refresh").val(1),void 0!==a&&(o=!1);var t=_("#payment ul.wc_payment_methods");1<_("#payment ul.wc_payment_methods > li").length?t.removeClass("wfacp_method_length_count_one"):t.addClass("wfacp_method_length_count_one"),setTimeout(function(){0===_(".wfacp-selected-product").length&&"yes"===window.wfacp_haschanges&&refresh_page_data(wfacp_frontend.id),0!==_(".foo_event_wrap").length&&populate_fields_value()},600),_(".wfacp_hidden_shipping").remove(),_("#wfacp_input_hidden_data").val("{}"),show_unblocked_mini_cart()}),_(document).ready(function(){_(document.body).trigger("wfacp_front_ready",[s]);var e=_("body");if(e.hasClass("wfacp_main_wrapper")&&"undefined"!=typeof wfacp_elementor_data&&"undefined"!==wfacp_elementor_data.wfacp_make_button_sticky_on_mobile&&""!==wfacp_elementor_data.wfacp_make_button_sticky_on_mobile&&e.addClass("yes_sticky"),d<768&&"undefined"!=typeof wfacp_elementor_data&&(_("body").removeClass("yes_sticky"),"yes"==wfacp_elementor_data.wfacp_make_button_sticky_on_mobile)){_("body").addClass("yes_sticky")}if("undefined"!=typeof angelleye_in_content_param){if(angelleye_in_content_param.set_express_checkout+="&wfacp_id="+wfacp_frontend.id+"&wfacp_is_checkout_override="+wfacp_frontend.wfacp_is_checkout_override,0<_("#wfacp_embed_form_page_id").length){var a=_("#wfacp_embed_form_page_id").val();angelleye_in_content_param.set_express_checkout+="&wfacp_embed_form_page_id="+a}angelleye_in_content_param.cancel_page=wfacp_frontend.cancel_page_url}_("#wfacp_exchange_keys").val(JSON.stringify(wfacp_frontend.exchange_keys)),_(".wfacp_custom_field_radio_wrap input[type=radio]").click(function(){_(this).is(":checked")?_(this).parents(".wfacp_custom_field_radio_wrap").removeClass("woocommerce-invalid woocommerce-invalid-required-field").addClass("woocommerce-validated"):_(this).parents(".wfacp_custom_field_radio_wrap").removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field")});var t,o=_(".wfacp_drop_list");0<o.length&&o.find("select").hasClass("select2-hidden-accessible")&&"object"===_typeof(t=o)&&(t.removeClass("wfacp_drop_list"),t.addClass("wfacp_add_select_2")),s.on("input validate change",".input-text, select, input:checkbox",function(){n.html(""),0<_(".wfacp_input_error_msg").length&&_(".wfacp_error_message").hide();var e=_("#billing_state"),a=_("#shipping_state");0<e.length&&e.addClass("wfacp-form-control"),0<a.length&&a.addClass("wfacp-form-control")}),_(document.body).on("change","#createaccount",function(){_(this).is(":checked")?_("#account_password_field").addClass("wfacp-create-account-label"):_("#account_password_field").removeClass("wfacp-create-account-label")}),_("#shipping_same_as_billing").trigger("change"),_("#billing_country, #shipping_country, .country_to_state,#shipping_state,#billing_state").on("change",function(e,a){setTimeout(function(){var e=_("#shipping_state"),a=e.val(),t=e.parents(".form-row");e.hasClass("input-text")&&e.addClass("wfacp-form-control");var o=_("#billing_state"),i=o.val(),n=o.parents(".form-row");g(t,a),g(n,i),o.hasClass("input-text")&&o.addClass("wfacp-form-control")},700)}),0<_("#billing_same_as_shipping").length&&(_(document).on("change","#shipping_country",function(){_("#billing_same_as_shipping").is(":checked")||_("#billing_country").val(_(this).val()).trigger("change")}),_(document).on("change","#shipping_state",function(){_("#billing_same_as_shipping").is(":checked")||_("#billing_state").val(_(this).val()).trigger("change")}))}),_(window).on("load",function(){h(),-1!=navigator.userAgent.indexOf("Mac OS X")?_("body").addClass("wfacp_mac"):_("body").addClass("wfacp_pc"),setTimeout(e,700)}),function(){var e=_(".mailchimp-newsletter");0<e.length&&e.addClass("wfacp-form-control-wrapper wfacp-col-full wfacp_checkbox_field");var a=_(".mc4wp-checkbox");0<a.length&&a.addClass("wfacp-form-control-wrapper wfacp-col-full wfacp_checkbox_field");var t=_("#ss_wc_mailchimp_opt_in");0<t.length&&t.parents(".woocommerce-mailchimp-opt-in").addClass("wfacp-form-control-wrapper wfacp-col-full wfacp_checkbox_field"),_(".address-field input,.address-field select").on("input",function(){_(this).parents(".form-row").hasClass("wfacp-anim-wrap")||_(this).parents(".form-row").addClass("wfacp-anim-wrap")}),_(document.body).on("wfacp_sustain_multi_checkout_page_run",function(){"undefined"==typeof b4_checkout_updating?window.b4_checkout_updating=!0:b4_checkout_updating=!0}),_(document).on("wfacp_sustain_multi_checkout_page_finish",function(){"undefined"!=typeof b4_checkout_updating&&update_checkout()});var o=!1;_(document.body).on("wfacp_checkout_data",function(){var e=_("#payment_method_woo-mercado-pago-custom");0<e.length&&"woo-mercado-pago-custom"===e.val()&&(o=!0,update_checkout())}),s.on("click",'input[name="payment_method"]',function(){"woo-mercado-pago-custom"===_(this).val()&&"object"==("undefined"==typeof MPv1?"undefined":_typeof(MPv1))&&1==o&&(MPv1.guessingPaymentMethod({event:"keyup"}),o=!1)}),_(document.body).on("wfacp_coupon_apply",function(){var e=_("#payment_method_woo-mercado-pago-custom");0<e.length&&"woo-mercado-pago-custom"===e.val()&&(o=!0,update_checkout())}),_(document.body).on("wfacp_coupon_form_removed",function(){var e=_("#payment_method_woo-mercado-pago-custom");0<e.length&&"woo-mercado-pago-custom"===e.val()&&(o=!0,update_checkout())})}(),function(){if(0!==s.length){_(document.body).trigger("wfacp_sustain_multi_checkout_page_run",[s]);var a=wfacp_frontend.id,t=wfacp_frontend.id;try{if(!("sessionStorage"in window&&null!==window.sessionStorage))return;window.localStorage.setItem("wfacp_checkout_page_id",wfacp_frontend.id),window.addEventListener("storage",function(e){"wfacp_checkout_page_id"===e.key&&(t=e.newValue,window.wfacp_haschanges="yes")}),window.addEventListener("focus",function(e){a!==t&&0<t&&"yes"===window.wfacp_haschanges&&refresh_page_data(a)})}catch(e){}}}(),function(){var e=_(".wfacp-form-control");if("undefined"!=typeof Storage&&0<e.length&&wfacp_frontend.hasOwnProperty("autopopulate")&&"yes"===wfacp_frontend.autopopulate)return populate_fields_value();setTimeout(function(e){e.each(function(){var e=_(this);!e.hasClass("address-field")||e.hasClass("wfacp-anim-wrap")?""!==e.val()&&null!=e.val()?e.parents(".wfacp-form-control-wrapper").hasClass("wfacp-anim-wrap")||e.parents(".wfacp-form-control-wrapper").addClass("wfacp-anim-wrap"):e.parents(".wfacp-form-control-wrapper").removeClass("wfacp-anim-wrap"):e.addClass("wfacp-anim-wrap")})},1e3,e)}(),wfacp_frontend.hasOwnProperty("autopopulatestate")&&"yes"===wfacp_frontend.autopopulatestate&&(_(document.body).on("change","#shipping_postcode",w),_(document.body).on("change","#shipping_country",w),_(document.body).on("change","#billing_country",u),_(document.body).on("change","#billing_postcode",u)),i=(new Date).getTime(),window.addEventListener("load",function(){try{if(!("sessionStorage"in window&&null!==window.sessionStorage))return;window.localStorage.setItem("wfacp_page_is_loaded",JSON.stringify({id:wfacp_frontend.id,time:i}))}catch(e){console.log(e)}}),window.addEventListener("storage",function(e){if("wfacp_page_is_loaded"===e.key&&1==is_document_visible()){var a=JSON.parse(e.newValue),t=parseInt(a.id),o=parseInt(a.time);0<t&&wfacp_frontend.id!==t&&o!=i&&setTimeout(function(){console.log("Run Trigger refresh page data."),refresh_page_data(wfacp_frontend.id)},1e3)}}),_("body").addClass("wfacp_do_not_show_block"),_(document).ajaxSend(function(e,a,t){wfacp_frontend.hooks.applyFilters("wfacp_do_not_allowed_ajax_abort",!1,e,a,t)?wfacp_frontend.hooks.doAction("wfacp_do_not_allowed_ajax_abort_placeholder",e,a,t):(-1<t.url.indexOf("get_refreshed_fragments")&&wfacp_frontend.hooks.applyFilters("wfacp_not_allow_get_refreshed_fragments_call",!0,e,a,t)&&a.abort(),(-1<t.url.indexOf("wc_stripe_get_cart_details")||-1<t.url.indexOf("update_order_review"))&&0==f&&a.abort())}),_(document.body).on("click",".wfacp_edit_address",function(e){e.preventDefault(),_(".wfacp-form-control-wrapper").removeClass("hidden"),"billing"===_(this).data("type")&&_(".wfacp_express_billing_address").slideToggle(),"shipping"===_(this).data("type")&&_(".wfacp_express_shipping_address").slideToggle()}),_(document.body).on("click","#place_order",function(){var e;0<(e=_(".wfacp_select2_country_state")).length&&e.removeClass("wfacp_select2_country_state"),_(".woocommerce-error").remove()}),0!==_(".wfacp_dummy_preview_heading").length&&_(".wfacp_dummy_preview_heading").click(function(e){e.preventDefault();var a=_(".wfacp_notice_dismise_link").attr("data-notice-id"),t=_(".wfacp_notice_dismise_link").attr("page-id");"undefined"!=a&&""!=a&&_.ajax({url:wfacp_frontend.admin_ajax,type:"POST",data:{action:"notice_dismise_link",notice_dismise_link:a,page_id:t,wfacp_nonce:wfacp_frontend.wfacp_nonce},success:function(e){"success"===e.status&&jQuery("[data-notice-id="+e.key+"]").slideUp()}})})}(jQuery);

(function ($) {
    "use strict";
    $(document.body).on('wfacp_step_switching', function (e, v) {
        if (typeof v == "undefined") {
            return;
        }
        var next_shown = v.next_shown;
        var prev_step = v.hide_parent;
        var wfacp_payment_tab_list = $('.wfacp-payment-tab-list');
        wfacp_payment_tab_list.removeClass('wfacp-active');
        var addon = $('.wfacp-payment-tab-list.' + next_shown);
        if (addon.length > 0) {
            addon.addClass('wfacp-active');
        }
        if (wfacp_payment_tab_list.hasClass(prev_step)) {
            $('.wfacp-payment-tab-list.' + prev_step).addClass("visited_cls");
            addon.addClass("visited_cls");
        }
        $(".wfacp_modal_container").scroll().animate({
            scrollTop: 0
        }, 1000);
    });
    $(document.body).on('checkout_error', function () {
        $(".wfacp_modal_container").scroll().animate({
            scrollTop: 0
        }, 1000);
        var strip_error = $('ul.woocommerce_error.woocommerce-error.wc-stripe-error:visible');
        if (strip_error.length > 0) {
            $.scroll_to_notices(strip_error);
        }
    });

    $(document).ready(function (e) {
        $(document.body).on('click', ".wfacp-payment-tab-list", function (e) {
            e.preventDefault();
            if ($(this).hasClass("visited_cls")) {
                var step = $(this).attr('step');

                var parent_el = $('.wfacp_page:visible');
                if (parent_el.hasClass(step)) {
                    return;
                }


                var tab_list = $('.wfacp-payment-tab-list');
                tab_list.removeClass('wfacp-active');
                $(this).addClass('wfacp-active');


                $(".wfacp_page").fadeOut(300);
                var last_element = $('.wfacp-payment-tab-list:last');
                if ($(this)[0] == last_element[0]) {
                    $('.wfacp_payment').removeClass('wfacp_hide_payment_part').addClass('wfacp_show_payment_part');
                }


                $(".wfacp_page." + step).fadeIn(600, function () {

                    var data = {'next_shown': step, 'current_step': step, 'last_step': false};
                    if (step === 'two_step' && tab_list.length === 2) {
                        data.hide_step = 'two_step';
                        data.last_step = true;
                        data.last_step = true;
                    } else if (step === 'third_step' && tab_list.length == 3) {
                        data.hide_step = 'two_step';
                        data.last_step = true;
                    }
                    $(document.body).trigger('wfacp_step_switching', data);
                    if ($('.country_to_state').length > 0) {
                        $(document.body).trigger('country_to_state_changed');
                    }
                });

                return;
            }
        });
        $('.wfacp_modal_open').on('click', function (e) {
            e.preventDefault();
            $('.wfacp_modal_overlay').removeClass("wfacp_display_none");
            $('.wfacp_modal_outerwrap').fadeIn(300);
            $('body').addClass("wfacp_overflow_hide");
        });

        //----- CLOSE
        $('.wfacp_modal_close').on('click', function (e) {
            e.preventDefault();
            $('.wfacp_modal_overlay').addClass("wfacp_display_none");
            $('.wfacp_modal_outerwrap').fadeOut(300);
            $('body').removeClass("wfacp_overflow_hide");
        });

        (function () {
            var loginForm = $(".woocommerce-form-login");
            var modal_al = $(".wfacp_modal_open");
            if (modal_al.length > 0) {
                var user_login_opten_popup = localStorage.getItem('wfacp_embed_form_login');
                if (user_login_opten_popup !== null && user_login_opten_popup === 'yes') {
                    localStorage.removeItem('wfacp_embed_form_login');
                    modal_al.trigger('click');
                }
            }
            loginForm.on('submit', function () {
                localStorage.setItem("wfacp_embed_form_login", 'yes');
            });
        })();
    });

    $(document.body).on('keyup', '.wfacp_dob', function () {
        var currentDate = new Date();
        var label = $(this).data('label');
        $(this).css('border', '1px solid #bfbfbf');
        var value = $(this).val();
        var min = $(this).data('min');
        var max = $(this).data('max');
        if (value != '' && (label == 'day' || label == 'month') && min > value) {
            $(this).val(min);
        } else if (value != '' && (label == 'day' || label == 'month') && max < value) {
            $(this).val(max);
        }
        var check_date = new Date(value + '-1-1');
        if ((label == 'year' && check_date == 'Invalid Date') || min > value || currentDate < check_date) {
            $(this).css('border', '2px solid #d50000');
        }
    });

    //wfacp_frontend.hooks.addFilter('wfacp_next_button_trigger', validateDate);

    function validateDate(promise, element, parent_el) {
        var currentDate = new Date();
        return new Promise(function (resolve, reject) {
            var day = 0;
            var month = 0;
            var year = 0;
            var field_name = '';
            var msg = '<ul class="woocommerce-error" role="alert">';
            var error = false;
            if (parent_el.find('.wfacp-dob-wrapper').length) {
                parent_el.find('.checkout .woocommerce-NoticeGroup').html('');
                $.each(parent_el.find('.wfacp-dob-wrapper'), function (index, value) {
                    $(this).find('input[type=number]').css('border-color', '#bfbfbf');
                    $(this).find('input[type=number]').each(function () {
                        field_name = $(this).data('field');
                        var label = $(this).data('label');
                        if (label == 'day') {
                            day = $(this).val();
                        } else if (label == 'month') {
                            month = $(this).val();
                        } else if (label == 'year') {
                            year = $(this).val();
                        }
                    });
                    var check_date = new Date(year + '-' + month + '-' + day);
                    alert(field_name);
                    if (day == '' || month == '' || year == '') {
                        $(this).find('input[type=number]').css('border', '2px solid #d50000');
                        msg += '<li><b>' + field_name + '</b> is required field.</li>';
                        error = true;
                    } else if (check_date == 'Invalid Date' || currentDate < check_date) {
                        $(this).find('input[type=number]').css('border', '2px solid #d50000');
                        msg += '<li>Please Enter valid <b>' + field_name + '</b>.</li>';
                        error = true;
                    }
                });
                if (error) {
                    wfacp_submit_error(msg + '</ul>');
                    reject();
                }
            }
            resolve('Dob validation Ok');
        });
    }
})(jQuery);


