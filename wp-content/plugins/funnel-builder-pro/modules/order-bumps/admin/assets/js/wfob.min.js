"use strict";function _typeof(o){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function _get(o,t,e){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(o,t,e){var n=_superPropBase(o,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(e):a.value}})(o,t,e||o)}function _superPropBase(o,t){for(;!Object.prototype.hasOwnProperty.call(o,t)&&null!==(o=_getPrototypeOf(o)););return o}function _inherits(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&_setPrototypeOf(o,t)}function _setPrototypeOf(o,t){return(_setPrototypeOf=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o})(o,t)}function _createSuper(o){var t=_isNativeReflectConstruct();return function(){var e,n=_getPrototypeOf(o);if(t){var a=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(o,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(o):t}function _assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(o){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function _createClass(o,t,e){return t&&_defineProperties(o.prototype,t),e&&_defineProperties(o,e),o}!function(o){var t=function(){function t(o){_classCallCheck(this,t),o=wfob.tools.jsp(o),this.id=o.id,this.name=o.name,this.currency=o.currency,this.products=o.products,this.design=o.design,this.settings=o.settings,this.global_settings=o.global_settings,this.ajax_action="create_bump",this.ajax_data={},this.main(),this.$_events(),this.model()}return _createClass(t,[{key:"main",value:function(){}},{key:"get_main",value:function(){return this.main_vue}},{key:"get_id",value:function(){return this.id}},{key:"get_current_ajax_action",value:function(){return this.ajax_action}},{key:"get_current_ajax_data",value:function(){return this.ajax_data}},{key:"get_data",value:function(){return this.data}},{key:"send_ajax",value:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new wfob.ajax;if(wfob.tools.hp(this.ajax_data,"wfob_id")||(this.ajax_data.wfob_id=this.id),t.ajax(this.ajax_action,this.ajax_data),!0===o)return t;t.success=function(o){wfob.show_data_save_model(wfob_localization.global.settings_success)}}},{key:"$_events",value:function(){setTimeout(function(){o(".wfob_loader").hide()},600)}},{key:"model",value:function(){wfob.show_saved_model=o("#modal-saved-data-success"),wfob.show_saved_model.length>0&&(this.show_save_model_data={title:wfob_localization.global.data_saving,icon:"icon-check",headerColor:"#6dbe45",background:"#efefef",borderBottom:!1,width:600,timeout:4e3,timeoutProgressbar:!0,transitionIn:"fadeInUp",transitionOut:"fadeOutDown",bottom:0,loop:!0,pauseOnHover:!0,overlay:!1,onOpening:function(o){},onClosed:function(o){wfob.show_saved_model.iziModal("setTitle",wfob_localization.global.data_saving)}},wfob.show_saved_model.iziModal(this.show_save_model_data))}}]),t}(),e=function(e){_inherits(a,t);var n=_createSuper(a);function a(o){var t;return _classCallCheck(this,a),(t=n.call(this,o)).add_new_model_open=!1,t.id=wfob.tools.hp(o,"id")?o.id:0,t.name=wfob.tools.hp(o,"name")?o.name:"",t.post_name=wfob.tools.hp(o,"post_name")?o.post_name:"",t.base_url=wfob.tools.hp(o,"base_url")?o.base_url:"",t.ajax_action="create_bump",t}return _createClass(a,[{key:"add_new_vue",value:function(t){if(!1===this.add_new_model_open){var e=this;this.add_new_model_open=!0,this.main_vue=new Vue({el:"#add-new-form",components:{"vue-form-generator":VueFormGenerator.component},methods:{defaultModel:function(){return{name:""}},clearData:function(){this.model=this.defaultModel()},onSubmit:function(){var t=this;this.modal.startLoading();var n=this.model.name;e.ajax_data={wfob_name:n,wfob_id:e.id,post_name:this.model.post_name};var a=e.send_ajax(!0);return a.before_send=function(){console.log("d")},a.success=function(n){!0===n.status&&"#"!==n.redirect_url&&(t.modal.stopLoading(),o("#add-new-form").hide(),o(".wfob-funnel-create-success-wrap").show(),setTimeout(function(){window.location.href=n.redirect_url},1e3)),e.id>0&&(t.modal.stopLoading(),o("#wfob_bump_name").text(t.model.name),e.modal_add_bump.iziModal("close"))},a}},data:{modal:t,btn_name:this.id>0?"2":"1",model:{name:e.name,post_name:e.post_name},schema:{fields:[{type:"input",inputType:"text",label:wfob_localization.global.add_bump.heading,model:"name",required:!0,validator:VueFormGenerator.validators.string}]},formOptions:{validateAfterChanged:!0}}})}}},{key:"$_events",value:function(){var t,e,n,i=this;_get(_getPrototypeOf(a.prototype),"$_events",this).call(this),t=/([^&=]+)=?([^&]*)/g,e=/\+/g,n=function(o){return decodeURIComponent(o.replace(e," "))},jQuery.parseParams=function(o){for(var e,a={};e=t.exec(o);){var i=n(e[1]),r=n(e[2]);"[]"===i.substring(i.length-2)?(a[i=i.substring(0,i.length-2)]||(a[i]=[])).push(r):a[i]=r}return a},this.modal_add_bump=o("#modal-add-bump"),this.modal_add_bump.length>0&&this.modal_add_bump.iziModal({title:this.id>0?wfob_localization.global.add_bump.edit_order_bump:wfob_localization.global.add_bump.new_bump,headerColor:"#6dbe45",background:"#efefef",borderBottom:!1,history:!1,width:600,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"bounceInDown",transitionOut:"bounceOutDown",navigateCaption:!0,navigateArrows:"false",onOpening:function(o){o.startLoading()},onOpened:function(o){o.stopLoading(),i.add_new_vue(o)},onClosed:function(o){}}),o(".wfob_delete_checkout_page").on("click",function(t){t.preventDefault();var e=o(this).attr("href"),n=wfob.swal({text:wfob_localization.global.delete_wfob_page,type:"error",confirmButtonText:wfob_localization.global.confirm_button_text,cancelButtonText:wfob_localization.global.cancel_button_text});n.then(function(o){wfob.tools.hp(o,"value")&&(window.location.href=e)}),n.catch(function(){})}),o(".wfob_checkout_page_status").on("change",function(t){var e=!1;o(this).is(":checked")&&(e=!0);var n=o(".wfob_head_bump_state_on"),a=o(".wfob_head_bump_state_off");e?(n.show(),a.hide()):(n.hide(),a.show());var i=o(this).data("id"),r=new wfob.ajax;r.ajax("update_page_status",{post_status:e,id:i}),r.success=function(o){wfob.show_data_save_model(o.msg)}}),o(".woofunnels_page_wfob .icl_translations a").on("click",function(t){if(o(this).find(".otgs-ico-add").length>0){var e=o(this).attr("href");if(e=e.replace("post-new.php?",""),"object"==_typeof(e=o.parseParams(e))&&wfob.tools.ol(e)>0){t.preventDefault();var n=new wfob.ajax;n.ajax("make_wpml_duplicate",e),n.success=function(o){1==o.status?window.location.href=o.redirect_url:alert(o.msg)}}}});var r=o("a[data-original-link]");r.length>0&&r.each(function(){var t=o(this).data("original-link");o(this).attr("href",t)})}}]),a}(),n=function(e){_inherits(a,t);var n=_createSuper(a);function a(o){var t;return _classCallCheck(this,a),(t=n.call(this,o)).formHasChanges=!1,t.search_timeout=null,t.search_model_open=null,t.last_active_product="",t.addProductModel(),t}return _createClass(a,[{key:"main",value:function(){var t=this;this.main_vue=new Vue({el:"#wfob_product_container",created:function(){this.haveVariableProduct(),wfob.hooks.doAction("wfob_product_ui_created",this),this.sortable()},methods:{sortable:function(){var t=this;setTimeout(function(){o(".wfob_product_table_sortable").sortable({items:"tr",cursor:"move",axis:"y",handle:"td.wfob_product_drag_handle .wfaob_drag_handle",scrollSensitivity:40,stop:function(o,e){t.StopSortable(o,e)}})},800)},StopSortable:function(o,t){},isEmpty:function(){return 0===wfob.tools.ol(this.products)},addProduct:function(o,t){var e=this;Vue.set(this.products,o,t),setTimeout(function(){e.haveVariableProduct(),e.save_products()},500)},haveVariableProduct:function(){if(wfob.tools.ol(this.products)>1)for(var o in this.products){var t=this.products[o];if(wfob.tools.hp(t,"variable"))return void Vue.set(this,"have_variable",!0)}Vue.set(this,"have_variable",!1)},removeProduct:function(o){var e=this,n=wfob.swal(wfob_localization.global.remove_product);n.then(function(n){n.value&&(t.formHasChanges=!0,t.removeProduct(o,function(){setTimeout(function(){e.haveVariableProduct(),e.save_products()},1e3)}))}),n.catch(function(o){})},set_product_data:function(o,e,n){if(null!=n.target){t.formHasChanges=!0;var a=n.target.value?n.target.value:"";if("discount_amount"===e){var i=this.products[o].discount_type;"percent_discount_sale"!==i&&"percent_discount_reg"!==i||a>100&&(a=100)}else if("discount_type"===e){var r=this.products[o].discount_amount;"percent_discount_sale"!==a&&"percent_discount_reg"!==a||(r=0,Vue.set(this.products[o],"discount_amount",r))}Vue.set(this.products[o],e,a),this.haveVariableProduct()}},remove_non_required_keys:function(o){if(wfob.tools.ol(o)>0)for(var t in o=wfob.tools.jsp(o))delete o[t].price,delete o[t].regular_price,delete o[t].sale_price,delete o[t].image;return o},save_products:function(){var e=this,n=new wfob.ajax,a=this.remove_non_required_keys(this.products),i={},r=o(".wfob-product-row");0===r.length?i=a:r.each(function(){var t=o(this).attr("id");i[t]=a[t]});var l={products:i,wfob_id:t.id,last_active_product:this.last_active_product};wfob.show_spinner(),n.ajax("save_products",l),n.success=function(o){wfob.show_data_save_model(wfob_localization.global.settings_success),e.sortable()}}},data:{have_variable:!1,name:this.name,currency:this.currency,products:this.products,last_active_product:this.last_active_product}})}},{key:"addProducts",value:function(o){if(wfob.tools.hp(o,"products")&&wfob.tools.ol(o.products)>0){var t=o.products;for(var e in t)this.main_vue.addProduct(e,t[e])}}},{key:"removeProduct",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=new wfob.ajax;a.ajax("remove_product",{product_key:t,wfob_id:this.id}),a.complete=function(a){(wfob.hide_spinner(),wfob.tools.ol(a)>0)&&(Vue.delete(e.main_vue.products,t),o("#"+t).length>0&&"function"==typeof n&&n(a))}}},{key:"addProductVue",value:function(t){if(!0!==this.search_model_open){this.search_model_open=!0;var e=this;this.add_main_vue=new Vue({el:"#modal-add-product-form",components:{Multiselect:window.VueMultiselect.default},data:{modal:t,isLoading:!1,products:[],is_single:"",include_variations:!1,selectedProducts:[]},methods:{onSubmit:function(){wfob.wfob_data_org=JSON.stringify(wfob_data);var t=new wfob.ajax,n=this;n.modal.startLoading();var a=[],i=this.selectedProducts;if(wfob.tools.ol(this.selectedProducts)>0)for(var r in i)a.push(i[r].id);var l={products:a,wfob_id:e.id};t.ajax("add_product",l),wfob.hide_spinner(),t.success=function(t){wfob.tools.ol(t)>0&&e.addProducts(t),o("#modal-add-product").iziModal("close")},t.complete=function(){n.clearAll(),n.modal.stopLoading()}},asyncFind:function(o){var t=this;this.isLoading=!0,""!==o?(clearTimeout(e.search_timeout),e.search_timeout=setTimeout(function(o){var e=new wfob.ajax,n={term:o,variations:t.include_variations};e.ajax("product_search",n),wfob.hide_spinner(),e.success=function(o){t.products=o,t.isLoading=!1},e.complete=function(){t.isLoading=!1}},1e3,o)):this.isLoading=!1},clearAll:function(){this.products=[],this.selectedProducts=[],this.isLoading=!1}}})}}},{key:"addProductModel",value:function(){var t=this,e=o("#modal-add-product");e.length>0&&e.iziModal({title:"Add Product",headerColor:"#6dbe45",background:"#efefef",borderBottom:!1,width:600,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",navigateArrows:"false",onOpening:function(o){o.startLoading()},onOpened:function(o){o.stopLoading(),t.addProductVue(o)},onClosed:function(o){}})}},{key:"$_events",value:function(){_get(_getPrototypeOf(a.prototype),"$_events",this).call(this);var t=this;o(document).on("click",".wfob_edit_title",function(){o(this).siblings(".wfob_product_title").prop("contentEditable",!0).addClass("wfob_title_border").focus(),o(this).hide(),o(this).siblings(".wfob_save_title").show()}),o(document).on("click",".wfob_save_title",function(){var e=o(this).attr("index");o(this).siblings(".wfob_product_title").prop("contentEditable",!1);var n=o(this).siblings(".wfob_product_title").removeClass("wfob_title_border").text();o(this).hide(),o(this).siblings(".wfob_edit_title").show(),(n=wfob.tools.stripHTML(n))&&(Vue.set(t.main_vue.products[e],"title",n),t.main_vue.save_products()),wfob.hooks.doAction("wfob_update_title",[{title:n,index:e}])})}}]),a}(),a=function(e){_inherits(a,t);var n=_createSuper(a);function a(o){return _classCallCheck(this,a),n.call(this,o)}return _createClass(a,[{key:"main",value:function(){new wfob.ajax(".wfob_rules_form",!0).success=function(o){wfob.show_data_save_model(wfob_localization.global.settings_success)}}},{key:"$_events",value:function(){_get(_getPrototypeOf(a.prototype),"$_events",this).call(this),o(".wfob_bump_rule_add_settings").on("click",function(){o("#wfob_bump_rule_add_settings").attr("data-is_rules_saved","yes"),o("#wfob_bump_rule_settings").removeClass("wfob-tgl")})}}]),a}(),i=function(e){_inherits(a,t);var n=_createSuper(a);function a(o){var t;return _classCallCheck(this,a),(t=n.call(this,o)).ajax_action="save_design",t}return _createClass(a,[{key:"get_old_style",value:function(o){var t,e={};return e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table"]=((t=[]).push("background:"+o.heading_background),t.push("padding:"+o.heading_box_padding+"px"),t.push("font-size:"+o.heading_font_size+"px"),t.push("border-bottom-width:0"),t.join(";")),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table:hover"]=function(){var t=[];return t.push("background:"+o.heading_hover_background),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table .wfob_title"]=function(){var t=[];return t.push("color:"+o.heading_color),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table .wfob_title:hover"]=function(){var t=[];return t.push("color:"+o.heading_hover_color),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_price_container"]=function(){var t=[];return t.push("color:"+o.price_color),t.push("font-size:"+o.price_font_size+"px"),t.push("border-bottom-width:0"),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_price_container span.woocommerce-Price-amount.amount"]="font-size:"+o.price_font_size+"px;",e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_price_container .wfob_price ins"]=function(){var t=[];return t.push("color:"+o.price_sale_color),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_contentBox"]=function(){var t=[];return t.push("color:"+o.content_color),t.push("padding:"+o.content_box_padding+"px"),t.push("font-size:"+o.content_font_size+"px"),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_qv-button"]="color:"+o.content_variation_link_color+";",e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_qv-button:hover"]="color:"+o.content_variation_link_hover_color+";",e[".wfob_bump_r_outer_wrap"]="max-width:"+o.bump_max_width+"px;",e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_contentBox .wfob_pro_img_wrap"]=function(){var t=[];return o.enable_featured_image_border&&t.push("border:"+o.featured_image_border_width+"px "+o.featured_image_border_style+" "+o.featured_image_border_color),t.join(";")}(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump"]=function(){if(o.border_width<1||"none"===o.border_style)return"";var t=[];return o.enable_box_border&&t.push("border:"+o.border_width+"px "+o.border_style+" "+o.border_color),t.push("padding:"+o.box_padding+"px"),t.push("background:"+o.box_background),t.join(";")}(),e}},{key:"get_layout_3_css",value:function(o){function t(){var t=[];return t.push("color:"+o.price_color),t.push("font-size:"+o.price_font_size+"px"),t.push("border-bottom-width:0"),t.join(";")}var e,n={};return n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_wrap"]=((e=[]).push("background-color:"+o.box_background),e.push("padding:"+o.box_padding+"px"),""==o.bump_max_width?e.push("width:100%"):e.push("width:"+o.bump_max_width+"px"),o.enable_box_border?(e.push("border-style:"+o.border_style),e.push("border-width:"+o.border_width+"px"),e.push("border-color:"+o.border_color)):e.push("border-style:none !important"),e.join(";")),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_wrap:hover"]=function(){var t=[];return t.push("background:"+o.box_background_hover),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_c_head"]=function(){var t=[];return t.push("color:"+o.heading_color),t.push("padding:"+o.heading_box_padding+"px"),t.push("font-size:"+o.heading_font_size+"px !important"),t.push("border-bottom-width:0"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_wrap:hover .wfob_l3_c_head"]=function(){var t=[];return t.push("color:"+o.heading_hover_color),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_c_sub_head"]=function(){var t=[];return t.push("color:"+o.sub_heading_color),t.push("font-size:"+o.sub_heading_font_size+"px !important"),t.push("border-bottom-width:0"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_wrap:hover .wfob_l3_c_sub_head"]=function(){var t=[];return t.push("color:"+o.sub_heading_hover_color),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_c_sub_desc"]=function(){var t=[];return t.push("color:"+o.sub_content_color),t.push("font-size:"+o.sub_content_font_size+"px !important"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_c_sub_desc *:not(a)"]=function(){var t=[];return t.push("color: inherit"),t.push("font-size:"+o.sub_content_font_size+"px !important"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_l_desc"]=function(){var t=[];return t.push("color:"+o.content_color),t.push("padding:"+o.content_box_padding+"px !important"),t.push("font-size:"+o.content_font_size+"px !important"),t.push("border-bottom-width:0"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_l_desc p"]=function(){var t=[];return t.push("color:"+o.content_color),t.push("font-size:"+o.content_font_size+"px !important"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_s_img.wfacp_product_image img"]=function(){var t=[];return o.enable_featured_image_border?(t.push("border-style:"+o.featured_image_border_style),t.push("border-width:"+o.featured_image_border_width+"px"),t.push("border-color:"+o.featured_image_border_color)):t.push("border-style:none !important"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_wrap .wfob_l3_s_data"]=function(){var t=[],e=parseInt(o.add_button_width)+15;return t.push("flex: 0 0 calc(100% - "+e+"px)"),t.push("-webkit-flex: 0 0 calc(100% - "+e+"px)"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 a.wfob_l3_f_btn.wfob_btn_add"]=function(){var t=[];return t.push("padding:"+o.add_button_padding+"px !important"),t.push("font-size:"+o.add_button_font_size+"px !important"),t.push("width:"+o.add_button_width+"px"),t.push("color:"+o.add_button_color),t.push("background-color:"+o.add_button_bg_color),o.add_button_enable_box_border?(t.push("border-style:"+o.add_button_border_style),t.push("border-width:"+o.add_button_border_width+"px"),t.push("border-color:"+o.add_button_border_color)):t.push("border-style:none !important"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_l3_wrap .wfob_l3_s_btn"]=function(){var t=[],e=parseInt(o.add_button_width)+15;return t.push("min-width:"+e+"px"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3  a.wfob_l3_f_btn.wfob_btn_add:hover"]=function(){var t=[];return t.push("background-color:"+o.add_button_hover_bg_color),t.push("color:"+o.add_button_hover_color),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 a.wfob_l3_f_btn.wfob_btn_remove"]=function(){var t=[];return t.push("padding:"+o.add_button_padding+"px !important"),t.push("font-size:"+o.add_button_font_size+"px !important"),t.push("width:"+o.add_button_width+"px"),o.add_button_enable_box_border?(t.push("border-style:"+o.add_button_border_style),t.push("border-width:"+o.add_button_border_width+"px"),t.push("border-color:"+o.add_button_border_color)):t.push("border-style:none !important"),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 a.wfob_l3_f_btn.wfob_btn_remove.wfob_product_show_btn"]=function(){var t=[];return t.push("color:"+o.added_button_color),t.push("background-color:"+o.added_button_bg_color),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 a.wfob_l3_f_btn.wfob_btn_remove.wfob_product_show_btn:hover"]=function(){var t=[];return t.push("color:"+o.remove_button_color),t.push("background-color:"+o.remove_button_bg_color),t.join(";")}(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_qv-button"]="color:"+o.content_variation_link_color+";",n[".wfob_bump_r_outer_wrap.wfob_layout_3 .wfob_qv-button:hover"]="color:"+o.content_variation_link_hover_color+";",n[".wfob_bump_r_outer_wrap.wfob_layout_3 span.woocommerce-Price-amount.amount"]=t(),n[".wfob_bump_r_outer_wrap.wfob_layout_3 del span.woocommerce-Price-amount.amount"]=t(),n[".wfob_bump_r_outer_wrap.wfob_layout_3  .wfob_price ins span.woocommerce-Price-amount.amount"]=function(){var t=[];return t.push("color:"+o.price_sale_color),t.join(";")}(),n}},{key:"get_css",value:function(o,t){return"layout_2"===o||"layout_1"===o?this.get_old_style(t):this.get_layout_3_css(t)}},{key:"get_title_tab_field",value:function(){var o=wfob_data.products,t=[];if(wfob.tools.ol(o)>0)for(var e in o){var n=o[e];t.push({type:"label",label:n.title});var a={type:"input",inputType:"text",label:wfob_localization.design.title,model:"product_"+e+"_title",styleClasses:"hint_custom_cls_wrap",hint:wfob_localization.design.title_hint};t.push(a);var i={type:"input",inputType:"text",label:wfob_localization.design.sub_title,model:"product_"+e+"_sub_title",styleClasses:"hint_custom_cls_wrap",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}};t.push(i);var r={type:"textArea",label:wfob_localization.design.short_description,rows:1,model:"product_"+e+"_small_description",visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout},attributes:{id:"product_"+e+"_small_description",class:"form-control wfob_editor_field"},styleClasses:"hint_custom_cls_wrap wfob_multi_hint_cls",hint:wfob_localization.design.short_description_hint};t.push(r);var l={type:"textArea",label:wfob_localization.design.description,rows:3,model:"product_"+e+"_description",styleClasses:"hint_custom_cls_wrap wfob_multi_hint_cls",attributes:{id:"product_"+e+"_description",class:"form-control wfob_editor_field"},hint:wfob_localization.design.description_hint};t.push(l);var _={type:"input",inputType:"text",label:wfob_localization.design.read_more,rows:1,model:"product_"+e+"_read_more",visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout},styleClasses:"hint_custom_cls_wrap wfob_multi_hint_cls"};t.push(_);var s={type:"input",inputType:"text",label:wfob_localization.design.add_btn_text,default:"Add",model:"product_"+e+"_add_btn_text",styleClasses:"wfob_button_heading wfob_button_gap",visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout}};t.push(s);var u={type:"input",inputType:"text",label:wfob_localization.design.added_btn_text,default:"Added",styleClasses:"wfob_button_gap",model:"product_"+e+"_added_btn_text",visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout}};t.push(u);var d={type:"input",inputType:"text",label:wfob_localization.design.remove_btn_text,default:"Removed",styleClasses:"wfob_button_gap",model:"product_"+e+"_remove_btn_text",visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout}};t.push(d);var b={type:"switch",label:wfob_localization.design.feature_image,model:"product_"+e+"_featured_image",textOn:wfob_localization.design.textOn,textOff:wfob_localization.design.textOff};t.push(b)}return t}},{key:"main",value:function(){var t=this;for(var e in this.main_vue=new Vue({el:"#wfob_design_setting",components:{"vue-form-generator":VueFormGenerator.component},created:function(){var o=this;this.onchange(!0),this.enableEditor(),"yes"==localStorage.getItem("wfob_need_saving")&&setTimeout(function(){o.save(),localStorage.removeItem("wfob_need_saving")},300)},methods:{onchange:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o(document).on("change",".wfob_number_field input[type=number]",function(){var t=this;0==parseInt(o(this).val())&&setTimeout(function(){o(t).val(1)},300)}),setTimeout(function(){var e=o(".wfob_color_picker .form-control");e.length>0&&(e.wpColorPicker({change:function(o,e){var n=o.target.id;t.model[n]=e.color.toString(),t.apply_css()}}),e.trigger("change"),o('.wfob_color_picker .wp-picker-container input[type="text"], .button.wp-color-result').on("click",function(){o(".iris-picker").hide(),o(this).parent().parent().parent().addClass("wp-picker-active"),o(this).parent().parent().parent().find(".button.wp-color-result").addClass("wp-picker-open"),o(this).parent().parent().parent().find(".iris-picker.iris-border").css("display","block")}),o(document).on("click",function(){o(".iris-picker:visible").length>0&&o(".iris-picker").hide()})),t.apply_css()},1200),1==e&&this.apply_css()},setProductContent:function(o){Vue.set(this.model,o.targetElm.id,o.getContent())},enableEditor:function(){var t=this;setTimeout(function(){var e=o(".wfob_editor_field");e.length>0&&e.each(function(){var e=o(this).attr("id"),n=wfob.tools.jsp(wfob.editorConfig);n.tinymce.selector="#"+e,n.tinymce.init_instance_callback=function(o){o.on("keyup",function(e){t.setProductContent(o)}),o.on("Change",function(e){t.setProductContent(o)})},wp.editor.initialize(e,n)})},300)},apply_css:function(){var o=t.get_css(this.model.layout,this.model);for(var e in document.getElementsByTagName("style")[0].innerHTML="",o){var n=".wfob_wrap_r "+e;document.getElementsByTagName("style")[0].innerHTML+=n+"{"+o[e]+"}"}},save:function(){wfob.show_spinner(),t.ajax_data.settings=wfob.tools.jsp(this.model),t.send_ajax()},parse_merge_tag:function(o,t){if(""==o||void 0==o)return o;var e={"{{more}}":this.get_read_more_text(t)};for(var n in e)o=o.replace(n,e[n]);return this.get_small_description(t),o},setSkin:function(e){this.model.layout!=e&&(wfob_localization.design.layout_change.showLoaderOnConfirm=!0,wfob_localization.design.layout_change.preConfirm=function(){return o("button.swal2-cancel.swal2-styled").css({display:"none"}),new Promise(function(o){t.ajax_data.settings=wfob.tools.jsp(t.design.design_default_model_data[e]),t.send_ajax(!0).success=function(o){localStorage.setItem("wfob_need_saving","yes"),window.location.reload()}})},wfob.swal(wfob_localization.design.layout_change).catch(function(o){}))},get_data:function(o,t){var e=this.model["product_"+t+"_"+o];return e=this.parse_merge_tag(e,t),"description"==o&&wfob_data.products.hasOwnProperty(t)&&wfob_data.products[t].hasOwnProperty("variable")&&(e+=wfob_localization.design.choose_option),e},get_small_description:function(t){var e=this.model["product_"+t+"_small_description"],n=o(".wfob_bump_r_outer_wrap[data-product-key="+t+"] .wfob_l3_s_desc"),a=o(".wfob_bump_r_outer_wrap[data-product-key="+t+"] .wfob_l3_c_sub_desc_choose_option");return""!==e&&void 0!==e&&e.indexOf("{{more}}")>-1?(e=e.replace("{{more}}",'<a href="#" class="wfob_read_more_link" data-product-key="'+t+'">Read More</a>'),n.hide(),a.show()):n.show(),e},show_choose_options:function(o){var t=this.model["product_"+o+"_small_description"],e=!1;return""!==t&&void 0!==t&&t.indexOf("{{more}}")>-1&&(e=!0),e},get_the_image_cls:function(o){return 1!=this.model["product_"+o+"_featured_image"]?"wfob_l3_s wfob_l3_no_img":"wfob_l3_s"},add_button_text:function(o){return this.model["product_"+o+"_add_btn_text"]},added_button_text:function(o){return this.model["product_"+o+"_added_btn_text"]},remove_button_text:function(o){return this.model["product_"+o+"_remove_btn_text"]},get_read_more_text:function(o){var t=this.model["product_"+o+"_read_more"];return""==t&&(t=wfob_localization.design.default_read_more),'<a href="#" class="wfob_read_more_link" data-product-key="'.concat(o,'">').concat(t,"</a>")},get_price_range:function(o){return wfob_data.products[o].price_range}},data:{current_tab:0,model:wfob.tools.jsp(t.design.model),schema:{groups:[{fields:t.get_title_tab_field()},{},{fields:t.get_fields()}]},formOptions:{}}}),this.design.model)"true"===this.design.model[e]?this.main_vue.model[e]=!0:"false"===this.design.model[e]?this.main_vue.model[e]=!1:this.main_vue.model[e]=this.design.model[e]}},{key:"get_fields",value:function(){return[{type:"label",label:wfob_localization.design.title_box,styleClasses:"wfob_design_box_heading"},{type:"input",inputType:"text",label:wfob_localization.design.background,model:"heading_background",id:"heading_background",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.hover_background,model:"heading_hover_background",id:"heading_hover_background",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"heading_box_padding",attributes:{min:"0"},visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout},validator:VueFormGenerator.validators.string},{type:"input",inputType:"number",label:wfob_localization.design.font_size,styleClasses:"wfob_number_field",model:"heading_font_size",attributes:{min:"10"},visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout},validator:VueFormGenerator.validators.string},{type:"input",inputType:"text",label:wfob_localization.design.text_color,model:"heading_color",id:"heading_color",styleClasses:"wfob_color_picker form-group-clear",visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_color,model:"heading_color",id:"heading_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_hover_color,model:"heading_hover_color",id:"heading_hover_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.error_color,model:"error_color",id:"error_color",visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout},styleClasses:["wfob_color_picker","wfob_color_picker_error"]},{type:"switch",label:wfob_localization.design.header_enable_pointing_arrow,model:"header_enable_pointing_arrow",validator:VueFormGenerator.validators.string,visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout},styleClasses:"wfob_pointer_arrow"},{type:"select",label:wfob_localization.design.point_animation,model:"point_animation",values:function(){return Object.create(wfob_localization.design.yes_no_drop_down)},visible:function(o){return o.header_enable_pointing_arrow&&"layout_3"!==o.layout&&"layout_4"!==o.layout},selectOptions:{hideNoneSelectedText:!0},validator:VueFormGenerator.validators.string,styleClasses:"wfob_pointer_animation"},{type:"label",label:wfob_localization.design.sub_title_box,styleClasses:"wfob_design_box_heading",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.font_size,styleClasses:"wfob_number_field",model:"sub_heading_font_size",attributes:{min:"10"},validator:VueFormGenerator.validators.string,visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.color,model:"sub_heading_color",id:"sub_heading_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.hover_color,model:"sub_heading_hover_color",id:"sub_heading_hover_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"label",label:wfob_localization.design.button,styleClasses:"wfob_design_box_heading",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"add_button_padding",attributes:{min:"0"},validator:VueFormGenerator.validators.string,visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.width,id:"add_button_width",model:"add_button_width",attributes:{min:"60"},visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.font_size,styleClasses:"wfob_number_field",model:"add_button_font_size",attributes:{min:"10"},validator:VueFormGenerator.validators.string,visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"switch",label:wfob_localization.design.border,model:"add_button_enable_box_border",styleClasses:"wfob_field_switch_border",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",model:"add_button_border_width",label:wfob_localization.design.border_width,visible:function(o){return o.add_button_enable_box_border&&("layout_3"===o.layout||"layout_4"===o.layout)},validator:VueFormGenerator.validators.number,styleClasses:"wfob_field_border_width"},{type:"select",model:"add_button_border_style",label:wfob_localization.design.border_style,styleClasses:"wfob_field_border_style",visible:function(o){return o.add_button_enable_box_border&&("layout_3"===o.layout||"layout_4"===o.layout)},values:function(){return Object.create(wfob_localization.design.border_type)},selectOptions:{hideNoneSelectedText:!0}},{type:"input",inputType:"text",label:wfob_localization.design.border_color,model:"add_button_border_color",id:"add_button_border_color",styleClasses:["wfob_color_picker","wfob_color_picker_border"],visible:function(o){return o.add_button_enable_box_border&&("layout_3"===o.layout||"layout_4"===o.layout)}},{type:"label",label:wfob_localization.design.add_to_cart_button,styleClasses:"wfob_design_box_heading",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_color,model:"add_button_color",id:"add_button_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.background,id:"add_button_bg_color",model:"add_button_bg_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_hover_color,model:"add_button_hover_color",id:"add_button_hover_color",styleClasses:"wfob_color_picker form-group-clear",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.hover_background,id:"add_button_hover_bg_color",model:"add_button_hover_bg_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"label",label:wfob_localization.design.added_to_cart_button,styleClasses:"wfob_design_box_heading",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_color,model:"added_button_color",id:"added_button_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.background,id:"added_button_bg_color",model:"added_button_bg_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"label",label:wfob_localization.design.remove_to_cart_button,styleClasses:"wfob_design_box_heading",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.color,model:"remove_button_color",id:"remove_button_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.background,id:"remove_button_bg_color",model:"remove_button_bg_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"label",label:wfob_localization.design.price_box,styleClasses:"wfob_design_box_heading"},{type:"select",label:wfob_localization.design.enable_price,model:"enable_price",values:function(){return Object.create(wfob_localization.design.yes_no_drop_down)},id:"enable_price",selectOptions:{hideNoneSelectedText:!0},visible:function(o){return"layout_3"!==o.layout&&"layout_4"!==o.layout}},{type:"select",label:wfob_localization.design.enable_price_side,model:"enable_price",values:function(){return Object.create(wfob_localization.design.yes_no_drop_down)},id:"enable_price",selectOptions:{hideNoneSelectedText:!0},visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.font_size,styleClasses:"wfob_number_field",model:"price_font_size",attributes:{min:"10"},visible:function(o){return"1"===o.enable_price},validator:VueFormGenerator.validators.number},{type:"input",inputType:"text",label:wfob_localization.design.price_color,model:"price_color",id:"price_color",styleClasses:"wfob_color_picker form-group-clear",visible:function(o){return"1"===o.enable_price}},{type:"input",inputType:"text",label:wfob_localization.design.price_sale_color,model:"price_sale_color",id:"price_sale_color",styleClasses:"wfob_color_picker",visible:function(o){return"1"===o.enable_price}},{type:"label",label:wfob_localization.design.sub_description_box,styleClasses:"wfob_design_box_heading",visible:function(o){return"layout_3"===o.layout||"layout_4"===o.layout}},{type:"input",inputType:"number",label:wfob_localization.design.font_size,styleClasses:"wfob_number_field",model:"sub_content_font_size",attributes:{min:"10"},validator:VueFormGenerator.validators.number,visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_color,model:"sub_content_color",id:"sub_content_color",styleClasses:"wfob_color_picker",visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout}},{type:"label",label:wfob_localization.design.description_box,styleClasses:"wfob_design_box_heading"},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"content_box_padding",attributes:{min:"0"},validator:VueFormGenerator.validators.number},{type:"input",inputType:"number",label:wfob_localization.design.font_size,model:"content_font_size",styleClasses:"wfob_number_field",attributes:{min:"10"},validator:VueFormGenerator.validators.number,visible:function(o){return"layout_3"==o.layout||"layout_4"==o.layout}},{type:"input",inputType:"text",label:wfob_localization.design.text_color,model:"content_color",id:"content_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.content_variation_link_color,model:"content_variation_link_color",id:"content_variation_link_color",styleClasses:"wfob_color_picker form-group-clear"},{type:"input",inputType:"text",label:wfob_localization.design.content_variation_link_hover_color,model:"content_variation_link_hover_color",id:"content_variation_link_hover_color",styleClasses:"wfob_color_picker"},{type:"label",label:wfob_localization.design.featured_image_border_label,styleClasses:"wfob_design_box_heading"},{type:"switch",label:wfob_localization.design.border,model:"enable_featured_image_border",styleClasses:"wfob_field_switch_border"},{type:"input",inputType:"number",model:"featured_image_border_width",visible:function(o){return o.enable_featured_image_border},validator:VueFormGenerator.validators.number,styleClasses:"wfob_field_border_width"},{type:"select",model:"featured_image_border_style",styleClasses:"wfob_field_border_style",values:function(){return Object.create(wfob_localization.design.border_type)},visible:function(o){return o.enable_featured_image_border},selectOptions:{hideNoneSelectedText:!0}},{type:"input",inputType:"text",model:"featured_image_border_color",id:"featured_image_border_color",visible:function(o){return o.enable_featured_image_border},styleClasses:["wfob_color_picker","wfob_color_picker_border"]},{type:"label",label:wfob_localization.design.additional_settings,styleClasses:"wfob_design_box_heading"},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"box_padding",attributes:{min:"0"},validator:VueFormGenerator.validators.number},{type:"input",inputType:"number",label:wfob_localization.design.bump_max_width,model:"bump_max_width",id:"bump_max_width",attributes:{min:"200"},hint:wfob_localization.design.bump_max_width_hint,styleClasses:"wfob_bump_maxwidth"},{type:"input",inputType:"text",label:wfob_localization.design.background,id:"box_background",model:"box_background",styleClasses:"wfob_color_picker form-group-clear"},{type:"input",inputType:"text",label:wfob_localization.design.hover_background,id:"box_background_hover",model:"box_background_hover",styleClasses:"wfob_color_picker"},{type:"switch",label:wfob_localization.design.border,model:"enable_box_border",styleClasses:"wfob_field_switch_border form-group-clear"},{type:"input",inputType:"number",model:"border_width",label:wfob_localization.design.border_width,visible:function(o){return o.enable_box_border},validator:VueFormGenerator.validators.number,styleClasses:"wfob_field_border_width form-group-clear"},{type:"select",model:"border_style",label:wfob_localization.design.border_style,styleClasses:"wfob_field_border_style",visible:function(o){return o.enable_box_border},values:function(){return Object.create(wfob_localization.design.border_type)},selectOptions:{hideNoneSelectedText:!0}},{type:"input",inputType:"text",label:wfob_localization.design.border_color,model:"border_color",id:"border_color",styleClasses:["wfob_color_picker","wfob_color_picker_border"],visible:function(o){return o.enable_box_border}}]}},{key:"$_events",value:function(){_get(_getPrototypeOf(a.prototype),"$_events",this).call(this);var t=this;if(o(document.body).on("click",".wfob_read_more_link",function(t){t.preventDefault();var e=o(this).data("product-key"),n=o(".wfob_bump_r_outer_wrap[data-product-key="+e+"] .wfob_l3_s_desc"),a=o(".wfob_bump_r_outer_wrap[data-product-key="+e+"] .wfob_l3_c_sub_desc_choose_option");n.slideToggle(),a.length>0&&(a.is(":visible")?a.slideUp():a.slideDown())}),o(document.body).on("click",".wfob_btn_add",function(t){t.preventDefault(),o(this).hide();var e=o(this).data("key");o(this).removeClass("wfob_product_show_btn"),o(".wfob_btn_remove[data-key="+e+"]").addClass("wfob_product_show_btn")}),o(document.body).on("click",".wfob_btn_remove",function(t){t.preventDefault();var e=o(this).data("key");o(this).hide(),o(this).removeClass("wfob_product_show_btn"),o(".wfob_btn_add[data-key="+e+"]").addClass("wfob_product_show_btn")}),o(".wfob-product-widget-tabs").length>0){var e=o(".wfob-product-widget-tabs .wfob-tab-title");e.on("click",function(e){var n=o(this).closest(".wfob-product-widget-tabs"),a=o(this).attr("data-tab");n.find(".wfob-tab-title").removeClass("wfob-active"),n.find(".wfob-tab-title[data-tab="+a+"]").addClass("wfob-active"),t.main_vue.current_tab=a,o(n).find(".wfob-tab-content").removeClass("wfob-active wfob-activeTab"),o(n).find(".wfob_forms_global_settings .vue-form-generator fieldset").hide(),o(n).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(a-1).addClass("wfob-active wfob-activeTab"),o(n).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(a-1).show()}),e.eq(0).trigger("click")}}}]),a}(),r=function(o){_inherits(n,t);var e=_createSuper(n);function n(o){var t;return _classCallCheck(this,n),(t=e.call(this,o)).ajax_action="save_settings",t}return _createClass(n,[{key:"main",value:function(){var o=this;this.main_vue=new Vue({el:"#wfob_bump_setting",components:{"vue-form-generator":VueFormGenerator.component},created:function(){this.onchange()},methods:{save:function(){o.ajax_data.settings=wfob.tools.jsp(this.model),wfob.show_spinner(),o.send_ajax()},onchange:function(){}},data:{current_tab:0,model:this.settings,schema:{fields:[{type:"label",label:wfob_localization.settings.priority_label,styleClasses:["wfob_setting_heading"]},{type:"input",inputType:"text",label:wfob_localization.settings.priority,hint:wfob_localization.settings.priority_hint,id:"priority",model:"priority"},{type:"label",label:wfob_localization.settings.order_bump_label,styleClasses:["wfob_setting_heading"]},{type:"select",label:wfob_localization.settings.order_bump_position_label,model:"order_bump_position_hooks",hint:wfob_localization.settings.other_bump_position_hint,values:function(){return Object.create(wfob_localization.settings.order_bump_position_hooks)},selectOptions:{hideNoneSelectedText:!0},validator:VueFormGenerator.validators.string,styleClasses:["wfob_pointer_animation","wfob_select_here"]}]},formOptions:{}}})}}]),n}(),l=function(e){_inherits(a,t);var n=_createSuper(a);function a(o){var t;return _classCallCheck(this,a),(t=n.call(this,o)).ajax_action="global_save_settings",t}return _createClass(a,[{key:"main",value:function(){var o=this;this.main_vue=new Vue({el:"#wfob_global_setting",components:{"vue-form-generator":VueFormGenerator.component},created:function(){this.onchange()},methods:{save:function(){o.ajax_data.settings=wfob.tools.jsp(this.model),wfob.show_spinner(),o.send_ajax(),o.ajax=function(o){wfob.show_data_save_model(wfob_localization.global.settings_success)}},onchange:function(){}},data:{current_tab:0,model:this.global_settings,schema:{groups:[{fields:[{type:"label",label:wfob_localization.global_settings.custom_css_heading,styleClasses:["wfob_setting_heading_wrap"]},{type:"label",label:wfob_localization.global_settings.custom_css_label,styleClasses:["wfob_setting_heading"]},{type:"textArea",id:"css",model:"css",styleClasses:["wfob_width_70"],hint:wfob_localization.global_settings.custom_css_label_hint,rows:8}]},{fields:[{type:"label",label:wfob_localization.global_settings.miscellaneous_heading,styleClasses:["wfob_setting_heading_wrap"]},{type:"label",label:wfob_localization.global_settings.number_of_bump_print_label,styleClasses:["wfob_setting_heading"]},{type:"input",inputType:"text",id:"number_bump_per_checkout",model:"number_bump_per_checkout",styleClasses:["wfob_width_70"],hint:wfob_localization.global_settings.number_of_bump_print_hint,rows:8}]}]},formOptions:{}}})}},{key:"$_events",value:function(){if(_get(_getPrototypeOf(a.prototype),"$_events",this).call(this),o(".wfob-product-widget-tabs").length>0){var t=o(".wfob-product-widget-tabs .wfob-tab-title");t.on("click",function(t){var e=o(this).closest(".wfob-product-widget-tabs"),n=o(this).attr("data-tab");e.find(".wfob-tab-title").removeClass("wfob-active"),e.find(".wfob-tab-title[data-tab="+n+"]").addClass("wfob-active"),o(e).find(".wfob-tab-content").removeClass("wfob-activeTab"),o(e).find(".wfob_forms_global_settings .vue-form-generator fieldset").hide(),o(e).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(n-1).addClass("wfob-activeTab"),o(e).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(n-1).show()}),t.eq(0).trigger("click")}}}]),a}();o(window).load(function(){o("#modal-add-bump").length>0&&new e(wfob_data),o("#wfob_product_container").length>0&&new n(wfob_data),o("#wfob_bump_rule_settings").length>0&&new a(wfob_data),o("#wfob_design_setting").length>0&&new i(wfob_data),o("#wfob_bump_setting").length>0&&new r(wfob_data),o("#wfob_global_setting").length>0&&new l(wfob_data),o(".wfob_allow_panel_close .hndle").on("click",function(){o(this);o(this).parents(".wfob_allow_panel_close").toggleClass("closed")}),o("#the-list .wfob-preview").on("click",function(){var t=this,e=o(this).attr("data-id"),n=o(this);if(n.addClass("disabled"),e>0){var a=new wfob.ajax;a.ajax("preview_details",{wfob_id:e}),a.success=function(e){!0===e.status&&o(t).WCBackboneModal({template:"wfob-page-popup",variable:e}),n.removeClass("disabled")}}return!1})})}(jQuery);